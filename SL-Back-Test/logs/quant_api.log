2025-11-04 14:37:29,786 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 14:37:29,786 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 14:37:29,786 - app.main - INFO - Environment: Development
2025-11-04 14:37:29,786 - app.main - INFO - Environment: Development
2025-11-04 14:37:29,786 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 14:37:29,786 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 14:37:29,797 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 14:37:29,797 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 14:37:29,797 - app.main - INFO - Redis cache initialized successfully
2025-11-04 14:37:29,797 - app.main - INFO - Redis cache initialized successfully
2025-11-04 14:37:29,797 - app.main - INFO - Database initialized (dev mode)
2025-11-04 14:37:29,797 - app.main - INFO - Database initialized (dev mode)
2025-11-04 14:55:54,498 - app.main - INFO - → GET /api/v1/factors/list
2025-11-04 14:55:54,501 - app.main - INFO - ← GET /api/v1/factors/list - 200 (2.34ms)
2025-11-04 14:55:54,504 - app.main - INFO - → GET /api/v1/functions/list
2025-11-04 14:55:54,504 - app.main - INFO - ← GET /api/v1/functions/list - 200 (0.58ms)
2025-11-04 14:56:08,275 - app.main - INFO - → OPTIONS /api/v1/backtest/run
2025-11-04 14:56:08,276 - app.main - INFO - ← OPTIONS /api/v1/backtest/run - 200 (0.51ms)
2025-11-04 14:56:08,277 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 14:56:08,412 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 824db948-ae23-4a0b-bc7d-d08123c447d3
2025-11-04 14:56:08,412 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (135.40ms)
2025-11-04 14:56:08,451 - app.main - INFO - → GET /api/v1/backtest/824db948-ae23-4a0b-bc7d-d08123c447d3/result
2025-11-04 14:56:08,486 - app.main - INFO - ← GET /api/v1/backtest/824db948-ae23-4a0b-bc7d-d08123c447d3/result - 200 (35.43ms)
2025-11-04 14:56:08,646 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_145608
2025-11-04 14:56:09,177 - app.services.simple_backtest - INFO - 백테스트 완료 (동기): 824db948-ae23-4a0b-bc7d-d08123c447d3
2025-11-04 14:56:09,177 - app.api.routes.backtest - INFO - 백테스트 완료: 824db948-ae23-4a0b-bc7d-d08123c447d3
2025-11-04 15:12:30,383 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:12:30,387 - app.core.database - INFO - Database connections closed
2025-11-04 15:12:30,418 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:12:30,420 - app.core.database - INFO - Database connections closed
2025-11-04 15:12:31,100 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:12:31,100 - app.main - INFO - Environment: Development
2025-11-04 15:12:31,100 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:12:31,100 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:12:31,100 - app.main - INFO - Environment: Development
2025-11-04 15:12:31,100 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:12:31,113 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:12:31,113 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:12:31,113 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:12:31,113 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:12:31,113 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:12:31,113 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:12:37,070 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:12:37,071 - app.core.database - INFO - Database connections closed
2025-11-04 15:12:37,072 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:12:37,072 - app.core.database - INFO - Database connections closed
2025-11-04 15:12:37,540 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:12:37,540 - app.main - INFO - Environment: Development
2025-11-04 15:12:37,540 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:12:37,540 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:12:37,541 - app.main - INFO - Environment: Development
2025-11-04 15:12:37,541 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:12:37,550 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:12:37,550 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:12:37,550 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:12:37,550 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:12:37,550 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:12:37,550 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:12:49,358 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:12:49,360 - app.core.database - INFO - Database connections closed
2025-11-04 15:12:49,368 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:12:49,368 - app.core.database - INFO - Database connections closed
2025-11-04 15:12:49,967 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:12:49,967 - app.main - INFO - Environment: Development
2025-11-04 15:12:49,967 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:12:49,967 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:12:49,967 - app.main - INFO - Environment: Development
2025-11-04 15:12:49,968 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:12:49,976 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:12:49,976 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:12:49,976 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:12:49,976 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:12:49,976 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:12:49,976 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:13:00,374 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:13:00,374 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:13:00,376 - app.core.database - INFO - Database connections closed
2025-11-04 15:13:00,376 - app.core.database - INFO - Database connections closed
2025-11-04 15:13:00,979 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:13:00,979 - app.main - INFO - Environment: Development
2025-11-04 15:13:00,979 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:13:00,980 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:13:00,980 - app.main - INFO - Environment: Development
2025-11-04 15:13:00,980 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:13:00,986 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:13:00,986 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:13:00,987 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:13:00,987 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:13:00,987 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:13:00,987 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:14:36,421 - app.main - INFO - → GET /api/v1/backtest/9de31c26-4dc4-4f5f-bdf0-3deb80f9df58/result
2025-11-04 15:14:36,518 - app.main - INFO - ← GET /api/v1/backtest/9de31c26-4dc4-4f5f-bdf0-3deb80f9df58/result - 200 (96.30ms)
2025-11-04 15:16:08,974 - app.main - INFO - → GET /api/v1/backtest/9de31c26-4dc4-4f5f-bdf0-3deb80f9df58/result
2025-11-04 15:16:09,023 - app.main - INFO - ← GET /api/v1/backtest/9de31c26-4dc4-4f5f-bdf0-3deb80f9df58/result - 200 (49.04ms)
2025-11-04 15:18:04,337 - app.main - INFO - → GET /api/v1/factors/list
2025-11-04 15:18:04,343 - app.main - INFO - ← GET /api/v1/factors/list - 200 (6.05ms)
2025-11-04 15:18:04,346 - app.main - INFO - → GET /api/v1/functions/list
2025-11-04 15:18:04,346 - app.main - INFO - ← GET /api/v1/functions/list - 200 (0.55ms)
2025-11-04 15:18:44,278 - app.main - INFO - → OPTIONS /api/v1/backtest/run
2025-11-04 15:18:44,280 - app.main - INFO - ← OPTIONS /api/v1/backtest/run - 200 (1.53ms)
2025-11-04 15:18:44,282 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:18:44,387 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 5633206b-7669-455b-b801-33bf9d40603c
2025-11-04 15:18:44,387 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (105.18ms)
2025-11-04 15:18:44,448 - app.main - INFO - → GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/result
2025-11-04 15:18:44,487 - app.main - INFO - ← GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/result - 200 (38.72ms)
2025-11-04 15:18:44,534 - app.main - INFO - → GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/status
2025-11-04 15:18:44,536 - app.main - INFO - → GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/trades
2025-11-04 15:18:44,538 - app.main - INFO - ← GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/trades - 404 (1.21ms)
2025-11-04 15:18:44,578 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_151844
2025-11-04 15:18:44,585 - app.main - INFO - ← GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/status - 200 (51.96ms)
2025-11-04 15:18:45,024 - app.services.simple_backtest - INFO - 백테스트 완료 (동기): 5633206b-7669-455b-b801-33bf9d40603c
2025-11-04 15:18:45,024 - app.api.routes.backtest - INFO - 백테스트 완료: 5633206b-7669-455b-b801-33bf9d40603c
2025-11-04 15:18:45,544 - app.main - INFO - → GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/trades
2025-11-04 15:18:45,545 - app.main - INFO - ← GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/trades - 404 (0.42ms)
2025-11-04 15:18:46,590 - app.main - INFO - → GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/status
2025-11-04 15:18:46,626 - app.main - INFO - ← GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/status - 200 (35.72ms)
2025-11-04 15:20:18,018 - app.main - INFO - → GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/status
2025-11-04 15:20:18,068 - app.main - INFO - ← GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/status - 200 (49.53ms)
2025-11-04 15:20:42,272 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:20:42,275 - app.core.database - INFO - Database connections closed
2025-11-04 15:20:42,360 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:20:42,362 - app.core.database - INFO - Database connections closed
2025-11-04 15:20:42,995 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:20:42,995 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:20:42,995 - app.main - INFO - Environment: Development
2025-11-04 15:20:42,995 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:20:42,995 - app.main - INFO - Environment: Development
2025-11-04 15:20:42,995 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:20:43,013 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:20:43,013 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:20:43,013 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:20:43,013 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:20:43,013 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:20:43,013 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:20:51,869 - app.main - INFO - → GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/trades
2025-11-04 15:20:51,946 - app.main - INFO - ← GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/trades - 200 (77.55ms)
2025-11-04 15:21:15,140 - app.main - INFO - → GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/trades
2025-11-04 15:21:15,188 - app.main - INFO - ← GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/trades - 200 (48.10ms)
2025-11-04 15:21:25,790 - app.main - INFO - → GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/result
2025-11-04 15:21:25,791 - app.main - INFO - → GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/status
2025-11-04 15:21:25,856 - app.main - INFO - ← GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/status - 200 (65.52ms)
2025-11-04 15:21:25,865 - app.main - INFO - ← GET /api/v1/backtest/5633206b-7669-455b-b801-33bf9d40603c/result - 200 (75.43ms)
2025-11-04 15:28:55,349 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:28:55,353 - app.core.database - INFO - Database connections closed
2025-11-04 15:28:55,363 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:28:55,365 - app.core.database - INFO - Database connections closed
2025-11-04 15:28:55,976 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:28:55,976 - app.main - INFO - Environment: Development
2025-11-04 15:28:55,976 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:28:55,977 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:28:55,977 - app.main - INFO - Environment: Development
2025-11-04 15:28:55,977 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:28:55,990 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:28:55,990 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:28:55,991 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:28:55,991 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:28:55,991 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:28:55,991 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:29:59,143 - app.main - INFO - → GET /api/v1/factors/list
2025-11-04 15:29:59,144 - app.main - INFO - ← GET /api/v1/factors/list - 200 (2.10ms)
2025-11-04 15:29:59,148 - app.main - INFO - → GET /api/v1/functions/list
2025-11-04 15:29:59,148 - app.main - INFO - ← GET /api/v1/functions/list - 200 (0.52ms)
2025-11-04 15:30:22,934 - app.main - INFO - → OPTIONS /api/v1/backtest/run
2025-11-04 15:30:22,935 - app.main - INFO - ← OPTIONS /api/v1/backtest/run - 200 (0.70ms)
2025-11-04 15:30:22,936 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:30:23,057 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 09230f1d-a61a-47a6-8d83-919c2f9f3fa9
2025-11-04 15:30:23,057 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (120.94ms)
2025-11-04 15:30:23,119 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_153022
2025-11-04 15:30:23,121 - app.services.simple_backtest - ERROR - 백테스트 실행 중 오류 (동기): name 'text' is not defined
2025-11-04 15:30:23,123 - app.api.routes.backtest - ERROR - 백테스트 래퍼 오류: name 'text' is not defined
2025-11-04 15:30:23,239 - app.main - INFO - → GET /api/v1/backtest/09230f1d-a61a-47a6-8d83-919c2f9f3fa9/result
2025-11-04 15:30:23,296 - app.main - INFO - ← GET /api/v1/backtest/09230f1d-a61a-47a6-8d83-919c2f9f3fa9/result - 200 (57.30ms)
2025-11-04 15:30:23,314 - app.main - INFO - → GET /api/v1/backtest/09230f1d-a61a-47a6-8d83-919c2f9f3fa9/trades
2025-11-04 15:30:23,398 - app.main - INFO - ← GET /api/v1/backtest/09230f1d-a61a-47a6-8d83-919c2f9f3fa9/trades - 200 (84.66ms)
2025-11-04 15:30:36,538 - app.main - INFO - → GET /api/v1/factors/list
2025-11-04 15:30:36,540 - app.main - INFO - ← GET /api/v1/factors/list - 200 (2.04ms)
2025-11-04 15:30:36,543 - app.main - INFO - → GET /api/v1/functions/list
2025-11-04 15:30:36,543 - app.main - INFO - ← GET /api/v1/functions/list - 200 (0.54ms)
2025-11-04 15:31:12,257 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:31:12,318 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 88648005-6712-47cd-b40c-e71bd9502674
2025-11-04 15:31:12,318 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (60.69ms)
2025-11-04 15:31:12,322 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_153112
2025-11-04 15:31:12,324 - app.services.simple_backtest - ERROR - 백테스트 실행 중 오류 (동기): name 'text' is not defined
2025-11-04 15:31:12,326 - app.api.routes.backtest - ERROR - 백테스트 래퍼 오류: name 'text' is not defined
2025-11-04 15:31:12,347 - app.main - INFO - → GET /api/v1/backtest/88648005-6712-47cd-b40c-e71bd9502674/result
2025-11-04 15:31:12,373 - app.main - INFO - ← GET /api/v1/backtest/88648005-6712-47cd-b40c-e71bd9502674/result - 200 (26.19ms)
2025-11-04 15:31:12,384 - app.main - INFO - → GET /api/v1/backtest/88648005-6712-47cd-b40c-e71bd9502674/trades
2025-11-04 15:31:12,417 - app.main - INFO - ← GET /api/v1/backtest/88648005-6712-47cd-b40c-e71bd9502674/trades - 200 (33.35ms)
2025-11-04 15:33:06,584 - app.main - INFO - → GET /api/v1/backtest/88648005-6712-47cd-b40c-e71bd9502674/result
2025-11-04 15:33:06,644 - app.main - INFO - ← GET /api/v1/backtest/88648005-6712-47cd-b40c-e71bd9502674/result - 200 (60.04ms)
2025-11-04 15:33:06,960 - app.main - INFO - → GET /api/v1/backtest/88648005-6712-47cd-b40c-e71bd9502674/trades
2025-11-04 15:33:07,002 - app.main - INFO - ← GET /api/v1/backtest/88648005-6712-47cd-b40c-e71bd9502674/trades - 200 (41.87ms)
2025-11-04 15:33:08,675 - app.main - INFO - → GET /api/v1/factors/list
2025-11-04 15:33:08,676 - app.main - INFO - ← GET /api/v1/factors/list - 200 (0.83ms)
2025-11-04 15:33:08,679 - app.main - INFO - → GET /api/v1/functions/list
2025-11-04 15:33:08,680 - app.main - INFO - ← GET /api/v1/functions/list - 200 (0.86ms)
2025-11-04 15:33:20,308 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:33:20,353 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): e5ba8fd1-6401-4439-b7cd-6cf24b3c6109
2025-11-04 15:33:20,353 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (45.30ms)
2025-11-04 15:33:20,358 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_153320
2025-11-04 15:33:20,360 - app.services.simple_backtest - ERROR - 백테스트 실행 중 오류 (동기): name 'text' is not defined
2025-11-04 15:33:20,363 - app.api.routes.backtest - ERROR - 백테스트 래퍼 오류: name 'text' is not defined
2025-11-04 15:33:20,381 - app.main - INFO - → GET /api/v1/backtest/e5ba8fd1-6401-4439-b7cd-6cf24b3c6109/result
2025-11-04 15:33:20,415 - app.main - INFO - ← GET /api/v1/backtest/e5ba8fd1-6401-4439-b7cd-6cf24b3c6109/result - 200 (34.03ms)
2025-11-04 15:33:20,428 - app.main - INFO - → GET /api/v1/backtest/e5ba8fd1-6401-4439-b7cd-6cf24b3c6109/trades
2025-11-04 15:33:20,475 - app.main - INFO - ← GET /api/v1/backtest/e5ba8fd1-6401-4439-b7cd-6cf24b3c6109/trades - 200 (46.47ms)
2025-11-04 15:33:45,416 - app.main - INFO - → GET /api/v1/factors/list
2025-11-04 15:33:45,418 - app.main - INFO - ← GET /api/v1/factors/list - 200 (2.07ms)
2025-11-04 15:33:45,420 - app.main - INFO - → GET /api/v1/functions/list
2025-11-04 15:33:45,421 - app.main - INFO - ← GET /api/v1/functions/list - 200 (0.53ms)
2025-11-04 15:33:51,251 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:33:51,306 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 98b7531d-398c-4b13-9450-5e9e71ef5f9c
2025-11-04 15:33:51,306 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (54.55ms)
2025-11-04 15:33:51,311 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_153351
2025-11-04 15:33:51,314 - app.services.simple_backtest - ERROR - 백테스트 실행 중 오류 (동기): name 'text' is not defined
2025-11-04 15:33:51,316 - app.api.routes.backtest - ERROR - 백테스트 래퍼 오류: name 'text' is not defined
2025-11-04 15:33:51,329 - app.main - INFO - → GET /api/v1/backtest/98b7531d-398c-4b13-9450-5e9e71ef5f9c/result
2025-11-04 15:33:51,356 - app.main - INFO - ← GET /api/v1/backtest/98b7531d-398c-4b13-9450-5e9e71ef5f9c/result - 200 (27.44ms)
2025-11-04 15:33:51,366 - app.main - INFO - → GET /api/v1/backtest/98b7531d-398c-4b13-9450-5e9e71ef5f9c/trades
2025-11-04 15:33:51,397 - app.main - INFO - ← GET /api/v1/backtest/98b7531d-398c-4b13-9450-5e9e71ef5f9c/trades - 200 (30.84ms)
2025-11-04 15:34:55,494 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:34:55,553 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 16230a4e-9d60-4c47-83cb-d8a41a653b22
2025-11-04 15:34:55,553 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (59.33ms)
2025-11-04 15:34:55,559 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_153455
2025-11-04 15:34:55,561 - app.services.simple_backtest - ERROR - 백테스트 실행 중 오류 (동기): name 'text' is not defined
2025-11-04 15:34:55,563 - app.api.routes.backtest - ERROR - 백테스트 래퍼 오류: name 'text' is not defined
2025-11-04 15:35:04,402 - app.main - INFO - → GET /api/v1/backtest/16230a4e-9d60-4c47-83cb-d8a41a653b22/status
2025-11-04 15:35:04,438 - app.main - INFO - ← GET /api/v1/backtest/16230a4e-9d60-4c47-83cb-d8a41a653b22/status - 200 (35.75ms)
2025-11-04 15:35:17,493 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:35:17,497 - app.core.database - INFO - Database connections closed
2025-11-04 15:35:17,508 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:35:17,510 - app.core.database - INFO - Database connections closed
2025-11-04 15:35:18,182 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:35:18,182 - app.main - INFO - Environment: Development
2025-11-04 15:35:18,182 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:35:18,182 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:35:18,182 - app.main - INFO - Environment: Development
2025-11-04 15:35:18,182 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:35:18,191 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:35:18,191 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:35:18,191 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:35:18,191 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:35:18,191 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:35:18,191 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:35:35,364 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:35:35,461 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 90e32e7f-04a1-4303-80c0-db620fc614b2
2025-11-04 15:35:35,461 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (96.63ms)
2025-11-04 15:35:35,519 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_153535
2025-11-04 15:35:35,524 - app.services.simple_backtest - INFO - 조회된 종목 수: 0개
2025-11-04 15:35:35,992 - app.services.simple_backtest - INFO - 백테스트 완료 (동기): 90e32e7f-04a1-4303-80c0-db620fc614b2
2025-11-04 15:35:35,992 - app.api.routes.backtest - INFO - 백테스트 완료: 90e32e7f-04a1-4303-80c0-db620fc614b2
2025-11-04 15:35:43,175 - app.main - INFO - → GET /api/v1/backtest/90e32e7f-04a1-4303-80c0-db620fc614b2/status
2025-11-04 15:35:43,212 - app.main - INFO - ← GET /api/v1/backtest/90e32e7f-04a1-4303-80c0-db620fc614b2/status - 200 (36.97ms)
2025-11-04 15:35:48,714 - app.main - INFO - → GET /api/v1/backtest/90e32e7f-04a1-4303-80c0-db620fc614b2/result
2025-11-04 15:35:48,753 - app.main - INFO - ← GET /api/v1/backtest/90e32e7f-04a1-4303-80c0-db620fc614b2/result - 200 (39.10ms)
2025-11-04 15:36:10,403 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:36:10,461 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 8a4ef77d-b724-4726-a517-08a6898fe2e0
2025-11-04 15:36:10,461 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (58.90ms)
2025-11-04 15:36:10,467 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_153610
2025-11-04 15:36:10,471 - app.services.simple_backtest - INFO - 조회된 종목 수: 0개
2025-11-04 15:36:10,479 - app.services.simple_backtest - INFO - 백테스트 완료 (동기): 8a4ef77d-b724-4726-a517-08a6898fe2e0
2025-11-04 15:36:10,479 - app.api.routes.backtest - INFO - 백테스트 완료: 8a4ef77d-b724-4726-a517-08a6898fe2e0
2025-11-04 15:36:19,923 - app.main - INFO - → GET /api/v1/backtest/8a4ef77d-b724-4726-a517-08a6898fe2e0/result
2025-11-04 15:36:19,962 - app.main - INFO - ← GET /api/v1/backtest/8a4ef77d-b724-4726-a517-08a6898fe2e0/result - 200 (39.31ms)
2025-11-04 15:37:08,685 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:37:08,688 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:37:08,691 - app.core.database - INFO - Database connections closed
2025-11-04 15:37:08,695 - app.core.database - INFO - Database connections closed
2025-11-04 15:37:09,365 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:37:09,365 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:37:09,366 - app.main - INFO - Environment: Development
2025-11-04 15:37:09,366 - app.main - INFO - Environment: Development
2025-11-04 15:37:09,366 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:37:09,366 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:37:09,382 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:37:09,382 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:37:09,382 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:37:09,382 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:37:09,382 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:37:09,382 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:37:19,729 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:37:19,818 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 02e4fa62-e1a1-481d-94d5-d7743979112d
2025-11-04 15:37:19,818 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (89.35ms)
2025-11-04 15:37:19,856 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_153719
2025-11-04 15:37:19,860 - app.services.simple_backtest - INFO - 조회된 종목 수: 20개
2025-11-04 15:37:20,244 - app.services.simple_backtest - INFO - 백테스트 완료 (동기): 02e4fa62-e1a1-481d-94d5-d7743979112d
2025-11-04 15:37:20,244 - app.api.routes.backtest - INFO - 백테스트 완료: 02e4fa62-e1a1-481d-94d5-d7743979112d
2025-11-04 15:37:30,139 - app.main - INFO - → GET /api/v1/backtest/02e4fa62-e1a1-481d-94d5-d7743979112d/result
2025-11-04 15:37:30,183 - app.main - INFO - ← GET /api/v1/backtest/02e4fa62-e1a1-481d-94d5-d7743979112d/result - 200 (44.43ms)
2025-11-04 15:39:51,378 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:39:51,383 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:39:51,384 - app.core.database - INFO - Database connections closed
2025-11-04 15:39:51,386 - app.core.database - INFO - Database connections closed
2025-11-04 15:39:52,081 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:39:52,081 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:39:52,081 - app.main - INFO - Environment: Development
2025-11-04 15:39:52,081 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:39:52,081 - app.main - INFO - Environment: Development
2025-11-04 15:39:52,081 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:39:52,097 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:39:52,097 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:39:52,097 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:39:52,097 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:39:52,097 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:39:52,097 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:40:05,129 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:40:05,130 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:40:05,130 - app.core.database - INFO - Database connections closed
2025-11-04 15:40:05,131 - app.core.database - INFO - Database connections closed
2025-11-04 15:40:05,818 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:40:05,819 - app.main - INFO - Environment: Development
2025-11-04 15:40:05,819 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:40:05,819 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:40:05,819 - app.main - INFO - Environment: Development
2025-11-04 15:40:05,819 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:40:05,829 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:40:05,829 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:40:05,829 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:40:05,829 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:40:05,829 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:40:05,829 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:40:24,054 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:40:24,056 - app.core.database - ERROR - Database session error: [{'type': 'missing', 'loc': ('body', 'buy_conditions'), 'msg': 'Field required', 'input': {'startDate': '2024-11-01', 'endDate': '2024-11-30', 'initialCapital': 100000000, 'strategyName': '테스트 전략', 'buyConditions': [{'factorId': 'per', 'operator': '<', 'value': 15}, {'factorId': 'roe', 'operator': '>', 'value': 10}], 'sellConditions': [], 'rebalanceFrequency': 'DAILY', 'targetMarket': 'ALL'}}, {'type': 'missing', 'loc': ('body', 'sell_conditions'), 'msg': 'Field required', 'input': {'startDate': '2024-11-01', 'endDate': '2024-11-30', 'initialCapital': 100000000, 'strategyName': '테스트 전략', 'buyConditions': [{'factorId': 'per', 'operator': '<', 'value': 15}, {'factorId': 'roe', 'operator': '>', 'value': 10}], 'sellConditions': [], 'rebalanceFrequency': 'DAILY', 'targetMarket': 'ALL'}}]
2025-11-04 15:40:24,056 - app.main - INFO - ← POST /api/v1/backtest/run - 422 (1.98ms)
2025-11-04 15:40:32,086 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:40:32,088 - app.core.database - ERROR - Database session error: [{'type': 'missing', 'loc': ('body', 'buy_conditions', 0, 'factor'), 'msg': 'Field required', 'input': {'factor_id': 'per', 'operator': '<', 'value': 15}}, {'type': 'missing', 'loc': ('body', 'buy_conditions', 1, 'factor'), 'msg': 'Field required', 'input': {'factor_id': 'roe', 'operator': '>', 'value': 10}}]
2025-11-04 15:40:32,089 - app.main - INFO - ← POST /api/v1/backtest/run - 422 (2.87ms)
2025-11-04 15:40:35,986 - app.main - INFO - → GET /openapi.json
2025-11-04 15:40:36,005 - app.main - INFO - ← GET /openapi.json - 200 (18.96ms)
2025-11-04 15:40:56,329 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:40:56,413 - app.api.routes.backtest - ERROR - 백테스트 실행 실패: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "strategy_factors" violates foreign key constraint "strategy_factors_factor_id_fkey"
DETAIL:  Key (factor_id)=(per) is not present in table "factors".
[SQL: INSERT INTO strategy_factors (strategy_id, factor_id, usage_type, operator, threshold_value, weight, direction) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::NUMERIC(15, 4), p5::NUMERIC(5, 4), p6::VARCHAR FROM (VALUES ($1::VARCHAR, $ ... 240 characters truncated ... 5, p6, sen_counter) ORDER BY sen_counter RETURNING strategy_factors.id, strategy_factors.id AS id__1]
[parameters: ('57405c96-e166-416a-96c2-f66df59ee78a', 'per', 'RANKING', '<', Decimal('15.0'), Decimal('1.0'), None, '57405c96-e166-416a-96c2-f66df59ee78a', 'roe', 'RANKING', '>', Decimal('10.0'), Decimal('1.0'), None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-11-04 15:40:56,415 - app.core.database - ERROR - Database session error: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "strategy_factors" violates foreign key constraint "strategy_factors_factor_id_fkey"
DETAIL:  Key (factor_id)=(per) is not present in table "factors".
[SQL: INSERT INTO strategy_factors (strategy_id, factor_id, usage_type, operator, threshold_value, weight, direction) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::NUMERIC(15, 4), p5::NUMERIC(5, 4), p6::VARCHAR FROM (VALUES ($1::VARCHAR, $ ... 240 characters truncated ... 5, p6, sen_counter) ORDER BY sen_counter RETURNING strategy_factors.id, strategy_factors.id AS id__1]
[parameters: ('57405c96-e166-416a-96c2-f66df59ee78a', 'per', 'RANKING', '<', Decimal('15.0'), Decimal('1.0'), None, '57405c96-e166-416a-96c2-f66df59ee78a', 'roe', 'RANKING', '>', Decimal('10.0'), Decimal('1.0'), None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-11-04 15:40:56,415 - app.main - INFO - ← POST /api/v1/backtest/run - 500 (86.11ms)
2025-11-04 15:41:28,050 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:41:28,156 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 37553137-492c-4b30-843a-c8c0656b9db5
2025-11-04 15:41:28,156 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (106.82ms)
2025-11-04 15:41:28,242 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_154128
2025-11-04 15:41:28,250 - app.services.simple_backtest - ERROR - 백테스트 실행 중 오류 (동기): (psycopg2.errors.InvalidColumnReference) for SELECT DISTINCT, ORDER BY expressions must appear in select list
LINE 9:                     ORDER BY COUNT(sp.price_id) DESC
                                     ^

[SQL: 
                    SELECT DISTINCT c.company_id, c.stock_code, c.company_name, c.market_type
                    FROM companies c
                    INNER JOIN stock_prices sp ON c.company_id = sp.company_id
                    WHERE c.is_active = 1
                      AND sp.trade_date BETWEEN %(start_date)s AND %(end_date)s
                    GROUP BY c.company_id, c.stock_code, c.company_name, c.market_type
                    HAVING COUNT(sp.price_id) >= 2
                    ORDER BY COUNT(sp.price_id) DESC
                    LIMIT 20
                ]
[parameters: {'start_date': datetime.date(2024, 11, 1), 'end_date': datetime.date(2024, 11, 30)}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-04 15:41:28,255 - app.api.routes.backtest - ERROR - 백테스트 래퍼 오류: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: UPDATE simulation_sessions SET status=%(status)s, error_message=%(error_message)s, completed_at=%(completed_at)s WHERE simulation_sessions.session_id = %(session_id_1)s]
[parameters: {'status': 'FAILED', 'error_message': "(psycopg2.errors.InvalidColumnReference) for SELECT DISTINCT, ORDER BY expressions must appear in select list\nLINE 9:                     ORDER BY C ... (664 characters truncated) ... s: {'start_date': datetime.date(2024, 11, 1), 'end_date': datetime.date(2024, 11, 30)}]\n(Background on this error at: https://sqlalche.me/e/20/f405)", 'completed_at': datetime.datetime(2025, 11, 4, 15, 41, 28, 251292), 'session_id_1': '37553137-492c-4b30-843a-c8c0656b9db5'}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-11-04 15:41:35,058 - app.main - INFO - → GET /api/v1/backtest/37553137-492c-4b30-843a-c8c0656b9db5/result
2025-11-04 15:41:35,090 - app.main - INFO - ← GET /api/v1/backtest/37553137-492c-4b30-843a-c8c0656b9db5/result - 200 (32.31ms)
2025-11-04 15:41:43,141 - app.main - INFO - → GET /api/v1/backtest/37553137-492c-4b30-843a-c8c0656b9db5/result
2025-11-04 15:41:43,176 - app.main - INFO - ← GET /api/v1/backtest/37553137-492c-4b30-843a-c8c0656b9db5/result - 200 (35.04ms)
2025-11-04 15:41:55,942 - app.main - INFO - → GET /api/v1/backtest/37553137-492c-4b30-843a-c8c0656b9db5/result
2025-11-04 15:41:55,980 - app.main - INFO - ← GET /api/v1/backtest/37553137-492c-4b30-843a-c8c0656b9db5/result - 200 (37.85ms)
2025-11-04 15:42:20,306 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:42:20,356 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 097e3958-a53c-4f6b-9634-5d3d1bc1b964
2025-11-04 15:42:20,356 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (49.92ms)
2025-11-04 15:42:20,361 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_154220
2025-11-04 15:42:20,365 - app.services.simple_backtest - ERROR - 백테스트 실행 중 오류 (동기): (psycopg2.errors.InvalidColumnReference) for SELECT DISTINCT, ORDER BY expressions must appear in select list
LINE 9:                     ORDER BY COUNT(sp.price_id) DESC
                                     ^

[SQL: 
                    SELECT DISTINCT c.company_id, c.stock_code, c.company_name, c.market_type
                    FROM companies c
                    INNER JOIN stock_prices sp ON c.company_id = sp.company_id
                    WHERE c.is_active = 1
                      AND sp.trade_date BETWEEN %(start_date)s AND %(end_date)s
                    GROUP BY c.company_id, c.stock_code, c.company_name, c.market_type
                    HAVING COUNT(sp.price_id) >= 2
                    ORDER BY COUNT(sp.price_id) DESC
                    LIMIT 20
                ]
[parameters: {'start_date': datetime.date(2024, 11, 1), 'end_date': datetime.date(2024, 11, 30)}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-04 15:42:20,366 - app.api.routes.backtest - ERROR - 백테스트 래퍼 오류: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: UPDATE simulation_sessions SET status=%(status)s, error_message=%(error_message)s, completed_at=%(completed_at)s WHERE simulation_sessions.session_id = %(session_id_1)s]
[parameters: {'status': 'FAILED', 'error_message': "(psycopg2.errors.InvalidColumnReference) for SELECT DISTINCT, ORDER BY expressions must appear in select list\nLINE 9:                     ORDER BY C ... (664 characters truncated) ... s: {'start_date': datetime.date(2024, 11, 1), 'end_date': datetime.date(2024, 11, 30)}]\n(Background on this error at: https://sqlalche.me/e/20/f405)", 'completed_at': datetime.datetime(2025, 11, 4, 15, 42, 20, 365338), 'session_id_1': '097e3958-a53c-4f6b-9634-5d3d1bc1b964'}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-11-04 15:42:42,739 - app.main - INFO - → GET /api/v1/backtest/097e3958-a53c-4f6b-9634-5d3d1bc1b964/result
2025-11-04 15:42:42,781 - app.main - INFO - ← GET /api/v1/backtest/097e3958-a53c-4f6b-9634-5d3d1bc1b964/result - 200 (41.93ms)
2025-11-04 15:42:56,585 - app.main - INFO - → GET /api/v1/backtest/097e3958-a53c-4f6b-9634-5d3d1bc1b964/result
2025-11-04 15:42:56,626 - app.main - INFO - ← GET /api/v1/backtest/097e3958-a53c-4f6b-9634-5d3d1bc1b964/result - 200 (41.23ms)
2025-11-04 15:44:31,810 - app.main - INFO - → GET /api/v1/factors/list
2025-11-04 15:44:31,817 - app.main - INFO - ← GET /api/v1/factors/list - 200 (6.75ms)
2025-11-04 15:44:31,822 - app.main - INFO - → GET /api/v1/functions/list
2025-11-04 15:44:31,825 - app.main - INFO - ← GET /api/v1/functions/list - 200 (3.54ms)
2025-11-04 15:44:39,043 - app.main - INFO - → OPTIONS /api/v1/backtest/run
2025-11-04 15:44:39,044 - app.main - INFO - ← OPTIONS /api/v1/backtest/run - 200 (1.09ms)
2025-11-04 15:44:39,046 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:44:39,109 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 2c5a152c-538a-428a-b62b-efef97a40e93
2025-11-04 15:44:39,109 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (63.25ms)
2025-11-04 15:44:39,115 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_154439
2025-11-04 15:44:39,118 - app.services.simple_backtest - ERROR - 백테스트 실행 중 오류 (동기): (psycopg2.errors.InvalidColumnReference) for SELECT DISTINCT, ORDER BY expressions must appear in select list
LINE 9:                     ORDER BY COUNT(sp.price_id) DESC
                                     ^

[SQL: 
                    SELECT DISTINCT c.company_id, c.stock_code, c.company_name, c.market_type
                    FROM companies c
                    INNER JOIN stock_prices sp ON c.company_id = sp.company_id
                    WHERE c.is_active = 1
                      AND sp.trade_date BETWEEN %(start_date)s AND %(end_date)s
                    GROUP BY c.company_id, c.stock_code, c.company_name, c.market_type
                    HAVING COUNT(sp.price_id) >= 2
                    ORDER BY COUNT(sp.price_id) DESC
                    LIMIT 20
                ]
[parameters: {'start_date': datetime.date(2025, 1, 1), 'end_date': datetime.date(2025, 6, 30)}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-04 15:44:39,119 - app.api.routes.backtest - ERROR - 백테스트 래퍼 오류: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: UPDATE simulation_sessions SET status=%(status)s, error_message=%(error_message)s, completed_at=%(completed_at)s WHERE simulation_sessions.session_id = %(session_id_1)s]
[parameters: {'status': 'FAILED', 'error_message': "(psycopg2.errors.InvalidColumnReference) for SELECT DISTINCT, ORDER BY expressions must appear in select list\nLINE 9:                     ORDER BY C ... (662 characters truncated) ... ers: {'start_date': datetime.date(2025, 1, 1), 'end_date': datetime.date(2025, 6, 30)}]\n(Background on this error at: https://sqlalche.me/e/20/f405)", 'completed_at': datetime.datetime(2025, 11, 4, 15, 44, 39, 118495), 'session_id_1': '2c5a152c-538a-428a-b62b-efef97a40e93'}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-11-04 15:44:39,128 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/result
2025-11-04 15:44:39,159 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/result - 200 (31.56ms)
2025-11-04 15:44:39,169 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:44:39,171 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/trades
2025-11-04 15:44:39,215 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (46.11ms)
2025-11-04 15:44:39,224 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/trades - 200 (53.09ms)
2025-11-04 15:44:41,220 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:44:41,252 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.61ms)
2025-11-04 15:44:43,257 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:44:43,295 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (37.37ms)
2025-11-04 15:44:45,306 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:44:45,345 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (38.66ms)
2025-11-04 15:44:47,352 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:44:47,388 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.06ms)
2025-11-04 15:44:49,392 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:44:49,426 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (34.14ms)
2025-11-04 15:44:51,429 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:44:51,460 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.69ms)
2025-11-04 15:44:53,468 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:44:53,505 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.07ms)
2025-11-04 15:44:55,520 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:44:55,575 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (55.56ms)
2025-11-04 15:44:57,581 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:44:57,614 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.68ms)
2025-11-04 15:44:59,628 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:44:59,674 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.28ms)
2025-11-04 15:45:01,678 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:01,711 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.96ms)
2025-11-04 15:45:03,720 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:03,751 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.87ms)
2025-11-04 15:45:05,763 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:05,821 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (58.48ms)
2025-11-04 15:45:07,827 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:07,863 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.61ms)
2025-11-04 15:45:09,872 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:09,922 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (50.12ms)
2025-11-04 15:45:11,928 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:11,961 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.55ms)
2025-11-04 15:45:13,969 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:14,005 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.36ms)
2025-11-04 15:45:16,038 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:16,084 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.94ms)
2025-11-04 15:45:18,093 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:18,126 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.15ms)
2025-11-04 15:45:20,135 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:20,168 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.18ms)
2025-11-04 15:45:22,174 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:22,212 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (38.44ms)
2025-11-04 15:45:24,222 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:24,255 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.29ms)
2025-11-04 15:45:26,261 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:26,296 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (34.42ms)
2025-11-04 15:45:28,302 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:28,348 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (46.95ms)
2025-11-04 15:45:30,355 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:30,406 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (50.66ms)
2025-11-04 15:45:32,414 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:32,479 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (64.62ms)
2025-11-04 15:45:34,488 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:34,525 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.95ms)
2025-11-04 15:45:36,528 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:36,560 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.80ms)
2025-11-04 15:45:38,566 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:38,611 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.17ms)
2025-11-04 15:45:40,617 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:40,644 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (27.12ms)
2025-11-04 15:45:42,654 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:42,678 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (24.30ms)
2025-11-04 15:45:44,690 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:44,744 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (54.16ms)
2025-11-04 15:45:46,749 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:46,781 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.13ms)
2025-11-04 15:45:48,791 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:48,830 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (38.85ms)
2025-11-04 15:45:50,835 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:50,870 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.10ms)
2025-11-04 15:45:52,881 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:52,914 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.84ms)
2025-11-04 15:45:54,922 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:54,947 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (25.03ms)
2025-11-04 15:45:56,955 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:56,988 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.82ms)
2025-11-04 15:45:58,999 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:45:59,040 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (41.52ms)
2025-11-04 15:46:01,048 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:01,078 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (29.54ms)
2025-11-04 15:46:03,087 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:03,126 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (38.09ms)
2025-11-04 15:46:05,143 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:05,193 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (49.71ms)
2025-11-04 15:46:07,200 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:07,236 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.66ms)
2025-11-04 15:46:09,246 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:09,278 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.55ms)
2025-11-04 15:46:11,283 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:11,319 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.68ms)
2025-11-04 15:46:13,328 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:13,366 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (38.40ms)
2025-11-04 15:46:15,374 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:15,411 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.58ms)
2025-11-04 15:46:17,416 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:17,457 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.10ms)
2025-11-04 15:46:19,468 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:19,508 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.34ms)
2025-11-04 15:46:21,516 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:21,563 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (47.07ms)
2025-11-04 15:46:23,570 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:23,620 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (49.96ms)
2025-11-04 15:46:25,629 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:25,666 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (37.34ms)
2025-11-04 15:46:27,675 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:27,715 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.08ms)
2025-11-04 15:46:29,722 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:29,754 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.67ms)
2025-11-04 15:46:31,762 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:31,802 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.33ms)
2025-11-04 15:46:33,809 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:33,846 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.99ms)
2025-11-04 15:46:35,854 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:35,905 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (51.08ms)
2025-11-04 15:46:37,912 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:37,948 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.56ms)
2025-11-04 15:46:39,955 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:39,992 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.90ms)
2025-11-04 15:46:42,004 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:42,061 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (56.82ms)
2025-11-04 15:46:44,068 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:44,102 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.50ms)
2025-11-04 15:46:46,109 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:46,144 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.19ms)
2025-11-04 15:46:48,152 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:48,182 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.42ms)
2025-11-04 15:46:50,193 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:50,223 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.62ms)
2025-11-04 15:46:52,229 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:52,273 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (43.77ms)
2025-11-04 15:46:54,280 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:54,312 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.48ms)
2025-11-04 15:46:56,317 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:56,348 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.65ms)
2025-11-04 15:46:58,353 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:46:58,390 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (37.05ms)
2025-11-04 15:47:00,399 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:00,432 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.01ms)
2025-11-04 15:47:02,436 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:02,469 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.82ms)
2025-11-04 15:47:04,479 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:04,536 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (56.90ms)
2025-11-04 15:47:06,543 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:06,587 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (43.73ms)
2025-11-04 15:47:08,593 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:08,635 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (42.06ms)
2025-11-04 15:47:10,642 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:10,688 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.71ms)
2025-11-04 15:47:12,692 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:12,722 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (29.29ms)
2025-11-04 15:47:14,724 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:14,755 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.36ms)
2025-11-04 15:47:16,757 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:16,837 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (79.53ms)
2025-11-04 15:47:18,848 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:18,878 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.36ms)
2025-11-04 15:47:20,887 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:20,927 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.36ms)
2025-11-04 15:47:22,934 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:22,969 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.04ms)
2025-11-04 15:47:24,976 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:25,013 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (37.03ms)
2025-11-04 15:47:27,017 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:27,048 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.75ms)
2025-11-04 15:47:28,875 - app.main - INFO - → GET /api/v1/backtest/02e4fa62-8b72-4857-b94a-b9e04ec8e28b/result
2025-11-04 15:47:28,956 - app.core.database - ERROR - Database session error: 404: 백테스트를 찾을 수 없습니다
2025-11-04 15:47:28,957 - app.main - INFO - ← GET /api/v1/backtest/02e4fa62-8b72-4857-b94a-b9e04ec8e28b/result - 404 (81.87ms)
2025-11-04 15:47:29,057 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:29,087 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (29.64ms)
2025-11-04 15:47:31,092 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:31,126 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (34.07ms)
2025-11-04 15:47:33,134 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:33,175 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.83ms)
2025-11-04 15:47:33,394 - app.main - INFO - → GET /api/v1/backtest/02e4fa62-8b72-4857-b94a-b9e04ec8e28b/result
2025-11-04 15:47:33,426 - app.core.database - ERROR - Database session error: 404: 백테스트를 찾을 수 없습니다
2025-11-04 15:47:33,426 - app.main - INFO - ← GET /api/v1/backtest/02e4fa62-8b72-4857-b94a-b9e04ec8e28b/result - 404 (31.83ms)
2025-11-04 15:47:35,180 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:35,215 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (34.83ms)
2025-11-04 15:47:37,219 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:37,260 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.48ms)
2025-11-04 15:47:39,268 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:39,310 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (41.71ms)
2025-11-04 15:47:41,317 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:41,357 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (39.93ms)
2025-11-04 15:47:43,370 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:43,401 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.19ms)
2025-11-04 15:47:45,406 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:45,441 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.39ms)
2025-11-04 15:47:47,445 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:47,483 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (37.63ms)
2025-11-04 15:47:49,488 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:49,517 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (28.68ms)
2025-11-04 15:47:51,526 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:51,569 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (42.58ms)
2025-11-04 15:47:53,575 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:53,603 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (27.39ms)
2025-11-04 15:47:55,611 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:55,640 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (28.76ms)
2025-11-04 15:47:57,645 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:57,674 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (29.00ms)
2025-11-04 15:47:59,683 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:47:59,713 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (29.94ms)
2025-11-04 15:48:01,723 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:01,755 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.45ms)
2025-11-04 15:48:02,088 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:48:02,088 - app.main - INFO - Environment: Development
2025-11-04 15:48:02,088 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:48:02,096 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:48:02,096 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:48:02,096 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:48:03,762 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:03,792 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.43ms)
2025-11-04 15:48:05,799 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:05,833 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (34.15ms)
2025-11-04 15:48:07,841 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:07,872 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.03ms)
2025-11-04 15:48:09,880 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:09,918 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (38.45ms)
2025-11-04 15:48:11,925 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:11,963 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (38.32ms)
2025-11-04 15:48:13,969 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:14,001 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.23ms)
2025-11-04 15:48:14,981 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:48:15,036 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 1fbd6908-e0b7-4019-8a6e-2dd60015f71f
2025-11-04 15:48:15,036 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (54.70ms)
2025-11-04 15:48:15,040 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_154814
2025-11-04 15:48:15,043 - app.services.simple_backtest - ERROR - 백테스트 실행 중 오류 (동기): (psycopg2.errors.InvalidColumnReference) for SELECT DISTINCT, ORDER BY expressions must appear in select list
LINE 9:                     ORDER BY COUNT(sp.price_id) DESC
                                     ^

[SQL: 
                    SELECT DISTINCT c.company_id, c.stock_code, c.company_name, c.market_type
                    FROM companies c
                    INNER JOIN stock_prices sp ON c.company_id = sp.company_id
                    WHERE c.is_active = 1
                      AND sp.trade_date BETWEEN %(start_date)s AND %(end_date)s
                    GROUP BY c.company_id, c.stock_code, c.company_name, c.market_type
                    HAVING COUNT(sp.price_id) >= 2
                    ORDER BY COUNT(sp.price_id) DESC
                    LIMIT 20
                ]
[parameters: {'start_date': datetime.date(2024, 11, 1), 'end_date': datetime.date(2024, 11, 30)}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-04 15:48:15,044 - app.api.routes.backtest - ERROR - 백테스트 래퍼 오류: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: UPDATE simulation_sessions SET status=%(status)s, error_message=%(error_message)s, completed_at=%(completed_at)s WHERE simulation_sessions.session_id = %(session_id_1)s]
[parameters: {'status': 'FAILED', 'error_message': "(psycopg2.errors.InvalidColumnReference) for SELECT DISTINCT, ORDER BY expressions must appear in select list\nLINE 9:                     ORDER BY C ... (664 characters truncated) ... s: {'start_date': datetime.date(2024, 11, 1), 'end_date': datetime.date(2024, 11, 30)}]\n(Background on this error at: https://sqlalche.me/e/20/f405)", 'completed_at': datetime.datetime(2025, 11, 4, 15, 48, 15, 43299), 'session_id_1': '1fbd6908-e0b7-4019-8a6e-2dd60015f71f'}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-11-04 15:48:16,014 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:16,060 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.63ms)
2025-11-04 15:48:18,066 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:18,097 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.94ms)
2025-11-04 15:48:20,103 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:20,141 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (37.33ms)
2025-11-04 15:48:22,150 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:22,185 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (34.26ms)
2025-11-04 15:48:24,192 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:24,228 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.45ms)
2025-11-04 15:48:26,239 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:26,272 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.53ms)
2025-11-04 15:48:28,278 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:28,323 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (44.59ms)
2025-11-04 15:48:30,327 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:30,370 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (43.12ms)
2025-11-04 15:48:32,374 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:32,404 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.32ms)
2025-11-04 15:48:34,411 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:34,452 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (41.20ms)
2025-11-04 15:48:36,460 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:36,490 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (29.57ms)
2025-11-04 15:48:38,500 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:38,537 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.99ms)
2025-11-04 15:48:40,541 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:40,586 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.40ms)
2025-11-04 15:48:42,600 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:42,634 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.74ms)
2025-11-04 15:48:44,641 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:44,682 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.21ms)
2025-11-04 15:48:46,691 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:46,723 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.52ms)
2025-11-04 15:48:48,729 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:48,765 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.06ms)
2025-11-04 15:48:50,775 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:50,808 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.01ms)
2025-11-04 15:48:52,816 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:52,843 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (27.71ms)
2025-11-04 15:48:54,851 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:54,888 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (37.39ms)
2025-11-04 15:48:56,896 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:56,936 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.36ms)
2025-11-04 15:48:58,943 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:48:58,977 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.60ms)
2025-11-04 15:49:00,985 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:01,018 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.95ms)
2025-11-04 15:49:03,026 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:03,062 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.43ms)
2025-11-04 15:49:05,074 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:05,111 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (37.94ms)
2025-11-04 15:49:07,121 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:07,151 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.02ms)
2025-11-04 15:49:09,157 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:09,183 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (25.59ms)
2025-11-04 15:49:11,191 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:11,224 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.61ms)
2025-11-04 15:49:13,234 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:13,277 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (42.41ms)
2025-11-04 15:49:15,280 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:15,307 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (27.62ms)
2025-11-04 15:49:17,319 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:17,357 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (37.67ms)
2025-11-04 15:49:19,367 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:19,423 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (56.11ms)
2025-11-04 15:49:21,432 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:21,461 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (29.35ms)
2025-11-04 15:49:23,474 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:23,514 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (39.81ms)
2025-11-04 15:49:25,519 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:25,552 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.06ms)
2025-11-04 15:49:27,558 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:27,594 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.40ms)
2025-11-04 15:49:29,606 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:29,650 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (43.93ms)
2025-11-04 15:49:31,660 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:31,693 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.30ms)
2025-11-04 15:49:33,702 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:33,736 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.76ms)
2025-11-04 15:49:35,745 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:35,792 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (46.92ms)
2025-11-04 15:49:37,799 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:37,831 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.19ms)
2025-11-04 15:49:39,838 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:39,889 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (51.62ms)
2025-11-04 15:49:41,899 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:41,944 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.39ms)
2025-11-04 15:49:57,401 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:49:57,401 - app.main - INFO - Environment: Development
2025-11-04 15:49:57,401 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:49:57,412 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:49:57,412 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:49:57,412 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:49:57,428 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:57,490 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (62.34ms)
2025-11-04 15:49:59,501 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:49:59,550 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (48.68ms)
2025-11-04 15:50:01,559 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:01,600 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.32ms)
2025-11-04 15:50:03,608 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:03,648 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (39.45ms)
2025-11-04 15:50:05,655 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:05,692 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.72ms)
2025-11-04 15:50:06,177 - app.main - INFO - → GET /health
2025-11-04 15:50:06,177 - app.main - INFO - ← GET /health - 200 (0.66ms)
2025-11-04 15:50:07,699 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:07,727 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (27.88ms)
2025-11-04 15:50:09,733 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:09,768 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (34.57ms)
2025-11-04 15:50:11,775 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:11,808 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.26ms)
2025-11-04 15:50:13,815 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:13,849 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.33ms)
2025-11-04 15:50:14,029 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:50:14,134 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): e04fc8ec-f0a8-41c0-95ff-525a1e734a4e
2025-11-04 15:50:14,134 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (105.38ms)
2025-11-04 15:50:14,188 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_155014
2025-11-04 15:50:14,191 - app.services.simple_backtest - ERROR - 백테스트 실행 중 오류 (동기): (psycopg2.errors.InvalidColumnReference) for SELECT DISTINCT, ORDER BY expressions must appear in select list
LINE 9:                     ORDER BY COUNT(sp.price_id) DESC
                                     ^

[SQL: 
                    SELECT DISTINCT c.company_id, c.stock_code, c.company_name, c.market_type
                    FROM companies c
                    INNER JOIN stock_prices sp ON c.company_id = sp.company_id
                    WHERE c.is_active = 1
                      AND sp.trade_date BETWEEN %(start_date)s AND %(end_date)s
                    GROUP BY c.company_id, c.stock_code, c.company_name, c.market_type
                    HAVING COUNT(sp.price_id) >= 2
                    ORDER BY COUNT(sp.price_id) DESC
                    LIMIT 20
                ]
[parameters: {'start_date': datetime.date(2024, 11, 1), 'end_date': datetime.date(2024, 11, 30)}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-04 15:50:14,192 - app.api.routes.backtest - ERROR - 백테스트 래퍼 오류: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: UPDATE simulation_sessions SET status=%(status)s, error_message=%(error_message)s, completed_at=%(completed_at)s WHERE simulation_sessions.session_id = %(session_id_1)s]
[parameters: {'status': 'FAILED', 'error_message': "(psycopg2.errors.InvalidColumnReference) for SELECT DISTINCT, ORDER BY expressions must appear in select list\nLINE 9:                     ORDER BY C ... (664 characters truncated) ... s: {'start_date': datetime.date(2024, 11, 1), 'end_date': datetime.date(2024, 11, 30)}]\n(Background on this error at: https://sqlalche.me/e/20/f405)", 'completed_at': datetime.datetime(2025, 11, 4, 15, 50, 14, 191655), 'session_id_1': 'e04fc8ec-f0a8-41c0-95ff-525a1e734a4e'}]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-11-04 15:50:15,861 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:15,904 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (43.79ms)
2025-11-04 15:50:17,913 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:17,958 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.37ms)
2025-11-04 15:50:19,967 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:20,021 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (54.62ms)
2025-11-04 15:50:22,029 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:22,068 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (39.18ms)
2025-11-04 15:50:24,075 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:24,111 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.64ms)
2025-11-04 15:50:26,121 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:26,150 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (28.98ms)
2025-11-04 15:50:28,162 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:28,217 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (54.34ms)
2025-11-04 15:50:30,223 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:30,255 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.99ms)
2025-11-04 15:50:32,263 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:32,303 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.75ms)
2025-11-04 15:50:34,315 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:34,353 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (37.85ms)
2025-11-04 15:50:36,361 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:36,403 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (41.60ms)
2025-11-04 15:50:38,412 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:38,439 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (27.54ms)
2025-11-04 15:50:40,449 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:40,481 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.64ms)
2025-11-04 15:50:42,487 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:42,524 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (37.22ms)
2025-11-04 15:50:44,565 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:44,640 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (74.54ms)
2025-11-04 15:50:46,654 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:46,684 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.03ms)
2025-11-04 15:50:48,695 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:48,747 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (51.80ms)
2025-11-04 15:50:50,757 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:50,794 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.76ms)
2025-11-04 15:50:52,798 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:52,834 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (36.53ms)
2025-11-04 15:50:54,844 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:54,884 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.12ms)
2025-11-04 15:50:56,893 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:56,924 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.80ms)
2025-11-04 15:50:58,932 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:50:58,959 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (27.37ms)
2025-11-04 15:51:00,965 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:00,992 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (27.51ms)
2025-11-04 15:51:03,008 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:03,041 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.70ms)
2025-11-04 15:51:05,044 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:05,080 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.93ms)
2025-11-04 15:51:07,089 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:07,134 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (44.48ms)
2025-11-04 15:51:09,140 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:09,176 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.55ms)
2025-11-04 15:51:11,182 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:11,215 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.93ms)
2025-11-04 15:51:13,226 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:13,266 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.31ms)
2025-11-04 15:51:15,272 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:15,305 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.59ms)
2025-11-04 15:51:17,313 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:17,341 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (27.44ms)
2025-11-04 15:51:19,347 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:19,374 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (26.30ms)
2025-11-04 15:51:21,379 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:21,412 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.18ms)
2025-11-04 15:51:23,419 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:23,450 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.04ms)
2025-11-04 15:51:25,457 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:25,499 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (41.75ms)
2025-11-04 15:51:27,504 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:27,535 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.05ms)
2025-11-04 15:51:29,545 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:29,594 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (49.04ms)
2025-11-04 15:51:31,600 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:31,641 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.22ms)
2025-11-04 15:51:33,652 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:33,698 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (46.32ms)
2025-11-04 15:51:35,706 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:35,752 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (46.50ms)
2025-11-04 15:51:37,834 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:51:37,835 - app.core.database - INFO - Database connections closed
2025-11-04 15:51:38,495 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:51:38,495 - app.main - INFO - Environment: Development
2025-11-04 15:51:38,495 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:51:38,507 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:51:38,507 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:51:38,507 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:51:38,510 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:38,567 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (57.59ms)
2025-11-04 15:51:40,577 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:40,633 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (55.91ms)
2025-11-04 15:51:42,644 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:42,690 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.50ms)
2025-11-04 15:51:44,697 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:44,744 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (47.14ms)
2025-11-04 15:51:46,748 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:46,783 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.15ms)
2025-11-04 15:51:48,791 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:48,829 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (38.20ms)
2025-11-04 15:51:50,841 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:50,881 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.66ms)
2025-11-04 15:51:52,725 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:51:52,820 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): ac556a6d-85e2-4ec1-97f2-51e62c3929c6
2025-11-04 15:51:52,821 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (95.09ms)
2025-11-04 15:51:52,865 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_155152
2025-11-04 15:51:52,886 - app.services.simple_backtest - INFO - 조회된 종목 수: 20개
2025-11-04 15:51:52,892 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:52,918 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (26.21ms)
2025-11-04 15:51:53,303 - app.services.simple_backtest - INFO - 백테스트 완료 (동기): ac556a6d-85e2-4ec1-97f2-51e62c3929c6
2025-11-04 15:51:53,304 - app.api.routes.backtest - INFO - 백테스트 완료: ac556a6d-85e2-4ec1-97f2-51e62c3929c6
2025-11-04 15:51:54,921 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:54,952 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.19ms)
2025-11-04 15:51:56,959 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:56,985 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (25.83ms)
2025-11-04 15:51:58,991 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:51:59,021 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.24ms)
2025-11-04 15:52:01,029 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:01,090 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (61.25ms)
2025-11-04 15:52:03,103 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:03,148 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.01ms)
2025-11-04 15:52:05,153 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:05,184 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.95ms)
2025-11-04 15:52:07,190 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:07,226 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.82ms)
2025-11-04 15:52:09,236 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:09,277 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (41.31ms)
2025-11-04 15:52:11,283 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:11,318 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (34.99ms)
2025-11-04 15:52:13,327 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:13,359 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.23ms)
2025-11-04 15:52:15,363 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:15,392 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (29.34ms)
2025-11-04 15:52:17,397 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:17,430 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.96ms)
2025-11-04 15:52:19,433 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:19,472 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (39.24ms)
2025-11-04 15:52:21,478 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:21,509 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.26ms)
2025-11-04 15:52:23,528 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:23,581 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (52.32ms)
2025-11-04 15:52:25,588 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:25,629 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (41.43ms)
2025-11-04 15:52:27,643 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:27,690 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (47.39ms)
2025-11-04 15:52:29,699 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:29,741 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (42.06ms)
2025-11-04 15:52:31,751 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:31,792 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (41.67ms)
2025-11-04 15:52:33,799 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:33,830 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.33ms)
2025-11-04 15:52:35,833 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:35,874 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (40.76ms)
2025-11-04 15:52:37,773 - app.main - INFO - → GET /api/v1/backtest/ac556a6d-85e2-4ec1-97f2-51e62c3929c6/result
2025-11-04 15:52:37,825 - app.main - INFO - ← GET /api/v1/backtest/ac556a6d-85e2-4ec1-97f2-51e62c3929c6/result - 200 (51.43ms)
2025-11-04 15:52:37,879 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:37,915 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.89ms)
2025-11-04 15:52:39,921 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:39,957 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.90ms)
2025-11-04 15:52:41,969 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:42,024 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (55.69ms)
2025-11-04 15:52:44,030 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:44,076 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.86ms)
2025-11-04 15:52:46,086 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:46,138 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (51.82ms)
2025-11-04 15:52:48,145 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:48,190 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (45.33ms)
2025-11-04 15:52:50,197 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:50,235 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (38.54ms)
2025-11-04 15:52:52,244 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:52,273 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (29.64ms)
2025-11-04 15:52:54,281 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:54,313 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (32.09ms)
2025-11-04 15:52:56,326 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:56,391 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (64.53ms)
2025-11-04 15:52:58,396 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:52:58,439 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (42.96ms)
2025-11-04 15:53:00,450 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:00,485 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.76ms)
2025-11-04 15:53:02,493 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:02,523 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (30.28ms)
2025-11-04 15:53:04,529 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:04,563 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (33.15ms)
2025-11-04 15:53:06,576 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:06,638 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (62.46ms)
2025-11-04 15:53:08,648 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:08,701 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (53.12ms)
2025-11-04 15:53:10,711 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:10,743 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (31.51ms)
2025-11-04 15:53:13,367 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:13,420 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (53.70ms)
2025-11-04 15:53:16,365 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:16,399 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (34.22ms)
2025-11-04 15:53:18,405 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:18,440 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (35.33ms)
2025-11-04 15:53:20,446 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:20,463 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:53:20,463 - app.main - INFO - Environment: Development
2025-11-04 15:53:20,463 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:53:20,469 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:53:20,469 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:53:20,469 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:53:20,473 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (27.59ms)
2025-11-04 15:53:22,493 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:22,561 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (68.40ms)
2025-11-04 15:53:24,566 - app.main - INFO - → GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status
2025-11-04 15:53:24,604 - app.main - INFO - ← GET /api/v1/backtest/2c5a152c-538a-428a-b62b-efef97a40e93/status - 200 (38.03ms)
2025-11-04 15:53:50,941 - app.main - INFO - → GET /api/v1/factors/list
2025-11-04 15:53:50,943 - app.main - INFO - ← GET /api/v1/factors/list - 200 (1.81ms)
2025-11-04 15:53:50,944 - app.main - INFO - → GET /api/v1/functions/list
2025-11-04 15:53:50,945 - app.main - INFO - ← GET /api/v1/functions/list - 200 (0.38ms)
2025-11-04 15:54:00,194 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 15:54:00,284 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 77aebf8a-f13b-4dfa-aa12-bca74f076c1d
2025-11-04 15:54:00,284 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (89.79ms)
2025-11-04 15:54:00,316 - app.main - INFO - → GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/result
2025-11-04 15:54:00,342 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_155400
2025-11-04 15:54:00,345 - app.main - INFO - ← GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/result - 200 (28.80ms)
2025-11-04 15:54:00,359 - app.main - INFO - → GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/status
2025-11-04 15:54:00,361 - app.main - INFO - → GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/trades
2025-11-04 15:54:00,423 - app.main - INFO - ← GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/status - 200 (64.78ms)
2025-11-04 15:54:00,441 - app.main - INFO - ← GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/trades - 200 (79.44ms)
2025-11-04 15:54:00,452 - app.services.simple_backtest - INFO - 조회된 종목 수: 20개
2025-11-04 15:54:00,792 - app.services.simple_backtest - INFO - 백테스트 완료 (동기): 77aebf8a-f13b-4dfa-aa12-bca74f076c1d
2025-11-04 15:54:00,792 - app.api.routes.backtest - INFO - 백테스트 완료: 77aebf8a-f13b-4dfa-aa12-bca74f076c1d
2025-11-04 15:54:02,429 - app.main - INFO - → GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/status
2025-11-04 15:54:02,467 - app.main - INFO - ← GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/status - 200 (38.50ms)
2025-11-04 15:54:02,470 - app.main - INFO - → GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/result
2025-11-04 15:54:02,472 - app.main - INFO - → GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/status
2025-11-04 15:54:02,472 - app.main - INFO - → GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/trades
2025-11-04 15:54:02,527 - app.main - INFO - ← GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/status - 200 (54.97ms)
2025-11-04 15:54:02,531 - app.main - INFO - ← GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/trades - 200 (58.62ms)
2025-11-04 15:54:02,534 - app.main - INFO - ← GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/result - 200 (63.75ms)
2025-11-04 15:58:57,283 - app.main - INFO - → GET /api/v1/backtest/ac556a6d-85e2-4ec1-97f2-51e62c3929c6/result
2025-11-04 15:58:57,345 - app.main - INFO - ← GET /api/v1/backtest/ac556a6d-85e2-4ec1-97f2-51e62c3929c6/result - 200 (62.30ms)
2025-11-04 15:59:55,621 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:59:55,621 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 15:59:55,624 - app.core.database - INFO - Database connections closed
2025-11-04 15:59:55,624 - app.core.database - INFO - Database connections closed
2025-11-04 15:59:56,288 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:59:56,288 - app.main - INFO - Environment: Development
2025-11-04 15:59:56,288 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 15:59:56,288 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:59:56,288 - app.main - INFO - Environment: Development
2025-11-04 15:59:56,288 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 15:59:56,294 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:59:56,294 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 15:59:56,294 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:59:56,294 - app.main - INFO - Database initialized (dev mode)
2025-11-04 15:59:56,294 - app.main - INFO - Redis cache initialized successfully
2025-11-04 15:59:56,295 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:00:12,754 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:00:12,754 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:00:12,755 - app.core.database - INFO - Database connections closed
2025-11-04 16:00:12,755 - app.core.database - INFO - Database connections closed
2025-11-04 16:00:13,418 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:00:13,419 - app.main - INFO - Environment: Development
2025-11-04 16:00:13,419 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:00:13,419 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:00:13,420 - app.main - INFO - Environment: Development
2025-11-04 16:00:13,420 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:00:13,428 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:00:13,428 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:00:13,428 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:00:13,428 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:00:13,428 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:00:13,428 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:00:27,064 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:00:27,065 - app.core.database - INFO - Database connections closed
2025-11-04 16:00:27,068 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:00:27,069 - app.core.database - INFO - Database connections closed
2025-11-04 16:00:27,888 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:00:27,888 - app.main - INFO - Environment: Development
2025-11-04 16:00:27,888 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:00:27,888 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:00:27,888 - app.main - INFO - Environment: Development
2025-11-04 16:00:27,888 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:00:27,903 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:00:27,903 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:00:27,903 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:00:27,903 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:00:27,903 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:00:27,903 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:00:40,022 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:00:40,026 - app.core.database - INFO - Database connections closed
2025-11-04 16:00:40,029 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:00:40,032 - app.core.database - INFO - Database connections closed
2025-11-04 16:00:40,667 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:00:40,667 - app.main - INFO - Environment: Development
2025-11-04 16:00:40,667 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:00:40,668 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:00:40,668 - app.main - INFO - Environment: Development
2025-11-04 16:00:40,668 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:00:40,678 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:00:40,678 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:00:40,678 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:00:40,678 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:00:40,678 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:00:40,678 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:03:39,804 - app.main - INFO - → GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/result
2025-11-04 16:03:39,945 - app.main - INFO - ← GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/result - 200 (141.53ms)
2025-11-04 16:03:40,201 - app.main - INFO - → GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/trades
2025-11-04 16:03:40,245 - app.main - INFO - ← GET /api/v1/backtest/77aebf8a-f13b-4dfa-aa12-bca74f076c1d/trades - 200 (44.71ms)
2025-11-04 16:04:27,129 - app.main - INFO - → GET /docs
2025-11-04 16:04:27,130 - app.main - INFO - ← GET /docs - 200 (1.57ms)
2025-11-04 16:06:10,431 - app.main - INFO - → GET /api/v1/factors/list
2025-11-04 16:06:10,433 - app.main - INFO - ← GET /api/v1/factors/list - 200 (2.09ms)
2025-11-04 16:06:10,435 - app.main - INFO - → GET /api/v1/functions/list
2025-11-04 16:06:10,436 - app.main - INFO - ← GET /api/v1/functions/list - 200 (0.48ms)
2025-11-04 16:06:18,871 - app.main - INFO - → OPTIONS /api/v1/backtest/run
2025-11-04 16:06:18,871 - app.main - INFO - ← OPTIONS /api/v1/backtest/run - 200 (0.43ms)
2025-11-04 16:06:18,873 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 16:06:18,970 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 5007c758-2039-44d8-b439-4a424bf87dd5
2025-11-04 16:06:18,970 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (97.54ms)
2025-11-04 16:06:19,030 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_160618
2025-11-04 16:06:19,087 - app.services.simple_backtest - INFO - 조회된 종목 수: 20개
2025-11-04 16:06:19,141 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result
2025-11-04 16:06:19,212 - app.core.database - ERROR - Database session error: 1 validation error for BacktestResultStatistics
initial_capital
  Field required [type=missing, input_value={'total_return': 0, 'annu...l_capital': 100000000.0}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-11-04 16:06:19,213 - app.main - ERROR - Unhandled exception: 1 validation error for BacktestResultStatistics
initial_capital
  Field required [type=missing, input_value={'total_return': 0, 'annu...l_capital': 100000000.0}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
Traceback (most recent call last):
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/app/main.py", line 115, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/app/api/routes/backtest.py", line 264, in get_backtest_result
    statistics=BacktestResultStatistics(
               ~~~~~~~~~~~~~~~~~~~~~~~~^
        total_return=0,
        ^^^^^^^^^^^^^^^
    ...<9 lines>...
        final_capital=float(session.initial_capital)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ),
    ^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for BacktestResultStatistics
initial_capital
  Field required [type=missing, input_value={'total_return': 0, 'annu...l_capital': 100000000.0}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-11-04 16:06:19,637 - app.services.simple_backtest - INFO - 백테스트 완료 (동기): 5007c758-2039-44d8-b439-4a424bf87dd5
2025-11-04 16:06:19,637 - app.api.routes.backtest - INFO - 백테스트 완료: 5007c758-2039-44d8-b439-4a424bf87dd5
2025-11-04 16:06:20,260 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result
2025-11-04 16:06:20,311 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result - 200 (50.56ms)
2025-11-04 16:06:20,348 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades
2025-11-04 16:06:20,400 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades - 200 (51.67ms)
2025-11-04 16:07:27,492 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:07:27,496 - app.core.database - INFO - Database connections closed
2025-11-04 16:07:27,563 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:07:27,565 - app.core.database - INFO - Database connections closed
2025-11-04 16:07:28,186 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:07:28,186 - app.main - INFO - Environment: Development
2025-11-04 16:07:28,186 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:07:28,186 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:07:28,186 - app.main - INFO - Environment: Development
2025-11-04 16:07:28,186 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:07:28,194 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:07:28,194 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:07:28,195 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:07:28,195 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:07:28,195 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:07:28,195 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:07:35,765 - app.main - INFO - → GET /docs
2025-11-04 16:07:35,765 - app.main - INFO - ← GET /docs - 200 (0.49ms)
2025-11-04 16:08:04,560 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:08:04,561 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:08:04,567 - app.core.database - INFO - Database connections closed
2025-11-04 16:08:04,567 - app.core.database - INFO - Database connections closed
2025-11-04 16:08:05,324 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:08:05,324 - app.main - INFO - Environment: Development
2025-11-04 16:08:05,324 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:08:05,324 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:08:05,324 - app.main - INFO - Environment: Development
2025-11-04 16:08:05,324 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:08:05,334 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:08:05,334 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:08:05,334 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:08:05,334 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:08:05,334 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:08:05,334 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:08:54,310 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result
2025-11-04 16:08:54,409 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result - 200 (99.47ms)
2025-11-04 16:08:54,606 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades
2025-11-04 16:08:54,658 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades - 200 (52.01ms)
2025-11-04 16:19:26,261 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result
2025-11-04 16:19:26,325 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result - 200 (63.32ms)
2025-11-04 16:19:26,534 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades
2025-11-04 16:19:26,579 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades - 200 (45.85ms)
2025-11-04 16:19:28,235 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result
2025-11-04 16:19:28,279 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result - 200 (43.97ms)
2025-11-04 16:19:28,392 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades
2025-11-04 16:19:28,430 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades - 200 (37.06ms)
2025-11-04 16:19:28,889 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result
2025-11-04 16:19:28,933 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result - 200 (43.66ms)
2025-11-04 16:19:29,029 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades
2025-11-04 16:19:29,075 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades - 200 (45.98ms)
2025-11-04 16:23:36,706 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:23:36,708 - app.core.database - INFO - Database connections closed
2025-11-04 16:23:36,715 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:23:36,717 - app.core.database - INFO - Database connections closed
2025-11-04 16:23:37,365 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:23:37,366 - app.main - INFO - Environment: Development
2025-11-04 16:23:37,366 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:23:37,372 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:23:37,372 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:23:37,372 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:23:47,575 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:23:47,576 - app.core.database - INFO - Database connections closed
2025-11-04 16:23:48,251 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:23:48,251 - app.main - INFO - Environment: Development
2025-11-04 16:23:48,251 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:23:48,259 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:23:48,259 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:23:48,259 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:24:01,695 - app.main - INFO - === Quant Investment API 종료 ===
2025-11-04 16:24:01,698 - app.core.database - INFO - Database connections closed
2025-11-04 16:24:02,288 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 16:24:02,288 - app.main - INFO - Environment: Development
2025-11-04 16:24:02,288 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 16:24:02,296 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 16:24:02,296 - app.main - INFO - Redis cache initialized successfully
2025-11-04 16:24:02,296 - app.main - INFO - Database initialized (dev mode)
2025-11-04 16:24:10,669 - app.main - INFO - → GET /docs
2025-11-04 16:24:10,669 - app.main - INFO - ← GET /docs - 200 (0.36ms)
2025-11-04 16:24:25,017 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result
2025-11-04 16:24:25,318 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result - 200 (300.85ms)
2025-11-04 16:24:25,547 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades
2025-11-04 16:24:25,660 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades - 200 (112.92ms)
2025-11-04 16:37:31,797 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result
2025-11-04 16:37:31,984 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/result - 200 (187.33ms)
2025-11-04 16:37:32,175 - app.main - INFO - → GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades
2025-11-04 16:37:32,277 - app.main - INFO - ← GET /api/v1/backtest/5007c758-2039-44d8-b439-4a424bf87dd5/trades - 200 (102.10ms)
2025-11-04 16:37:41,897 - app.main - INFO - → GET /api/v1/factors/list
2025-11-04 16:37:41,898 - app.main - INFO - ← GET /api/v1/factors/list - 200 (0.82ms)
2025-11-04 16:37:41,900 - app.main - INFO - → GET /api/v1/functions/list
2025-11-04 16:37:41,900 - app.main - INFO - ← GET /api/v1/functions/list - 200 (0.33ms)
2025-11-04 16:39:29,824 - app.main - INFO - → OPTIONS /api/v1/backtest/run
2025-11-04 16:39:29,826 - app.main - INFO - ← OPTIONS /api/v1/backtest/run - 200 (2.33ms)
2025-11-04 16:39:29,827 - app.main - INFO - → POST /api/v1/backtest/run
2025-11-04 16:39:29,930 - app.services.simple_backtest - INFO - 백테스트 시작 (동기): 10d7791c-e86c-433f-bf23-7332c844723e
2025-11-04 16:39:29,930 - app.main - INFO - ← POST /api/v1/backtest/run - 200 (102.90ms)
2025-11-04 16:39:29,986 - app.main - INFO - → GET /api/v1/backtest/10d7791c-e86c-433f-bf23-7332c844723e/result
2025-11-04 16:39:30,027 - app.core.database - ERROR - Database session error: 1 validation error for BacktestResultStatistics
initial_capital
  Field required [type=missing, input_value={'total_return': 0, 'annu...l_capital': 100000000.0}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-11-04 16:39:30,028 - app.main - ERROR - Unhandled exception: 1 validation error for BacktestResultStatistics
initial_capital
  Field required [type=missing, input_value={'total_return': 0, 'annu...l_capital': 100000000.0}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
Traceback (most recent call last):
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/app/main.py", line 115, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/app/api/routes/backtest.py", line 265, in get_backtest_result
    statistics=BacktestResultStatistics(
               ~~~~~~~~~~~~~~~~~~~~~~~~^
        total_return=0,
        ^^^^^^^^^^^^^^^
    ...<9 lines>...
        final_capital=float(session.initial_capital)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ),
    ^
  File "/Users/a2/Desktop/branch-restore/SL-Back-Test/venv/lib/python3.13/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for BacktestResultStatistics
initial_capital
  Field required [type=missing, input_value={'total_return': 0, 'annu...l_capital': 100000000.0}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-11-04 16:39:30,086 - app.services.simple_backtest - INFO - 전략 로드 완료: Backtest_20251104_163929
2025-11-04 16:39:30,150 - app.services.simple_backtest - INFO - 조회된 종목 수: 20개
2025-11-04 16:39:30,673 - app.services.simple_backtest - INFO - 백테스트 완료 (동기): 10d7791c-e86c-433f-bf23-7332c844723e
2025-11-04 16:39:30,674 - app.api.routes.backtest - INFO - 백테스트 완료: 10d7791c-e86c-433f-bf23-7332c844723e
2025-11-04 16:39:31,047 - app.main - INFO - → GET /api/v1/backtest/10d7791c-e86c-433f-bf23-7332c844723e/result
2025-11-04 16:39:31,150 - app.main - INFO - ← GET /api/v1/backtest/10d7791c-e86c-433f-bf23-7332c844723e/result - 200 (103.39ms)
2025-11-04 16:39:31,185 - app.main - INFO - → GET /api/v1/backtest/10d7791c-e86c-433f-bf23-7332c844723e/trades
2025-11-04 16:39:31,298 - app.main - INFO - ← GET /api/v1/backtest/10d7791c-e86c-433f-bf23-7332c844723e/trades - 200 (112.70ms)
2025-11-04 16:40:17,926 - app.main - INFO - → GET /api/v1/factors/list
2025-11-04 16:40:17,929 - app.main - INFO - ← GET /api/v1/factors/list - 200 (3.81ms)
2025-11-04 16:40:17,931 - app.main - INFO - → GET /api/v1/functions/list
2025-11-04 16:40:17,932 - app.main - INFO - ← GET /api/v1/functions/list - 200 (0.57ms)
2025-11-04 18:13:07,076 - app.main - INFO - === Quant Investment API 시작 ===
2025-11-04 18:13:07,077 - app.main - INFO - Environment: Development
2025-11-04 18:13:07,077 - app.main - INFO - Database: localhost:5432/quant_investment_db
2025-11-04 18:13:07,085 - app.core.cache - INFO - Redis connection established successfully
2025-11-04 18:13:07,085 - app.main - INFO - Redis cache initialized successfully
2025-11-04 18:13:07,085 - app.main - INFO - Database initialized (dev mode)
