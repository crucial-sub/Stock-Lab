# ==============================================
# Stock Lab Backend Environment Variables
# ==============================================
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in the actual values (DO NOT commit .env to Git)
# 3. For EC2 deployment, use the values from your AWS resources
# ==============================================

# ==============================================
# DEPLOYMENT ENVIRONMENT
# ==============================================
# Options: local | ec2
DEPLOYMENT_ENV=local

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
# For Local Development (Docker):
#   DATABASE_URL=postgresql+asyncpg://stocklabadmin:PASSWORD@localhost:5433/stock_lab_investment_db
# For EC2 with RDS:
#   DATABASE_URL=postgresql+asyncpg://USERNAME:PASSWORD@RDS_ENDPOINT:5432/stock_lab_investment_db
# For EC2 with SSH Tunnel:
#   DATABASE_URL=postgresql+asyncpg://USERNAME:PASSWORD@host.docker.internal:5433/stock_lab_investment_db

DATABASE_URL=postgresql+asyncpg://YOUR_DB_USER:YOUR_DB_PASSWORD@localhost:5432/stock_lab_investment_db
DATABASE_SYNC_URL=postgresql://YOUR_DB_USER:YOUR_DB_PASSWORD@localhost:5432/stock_lab_investment_db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600
DATABASE_ECHO=False

# ==============================================
# REDIS CONFIGURATION
# ==============================================
# For Local Development (Docker):
#   REDIS_HOST=redis
#   REDIS_URL=redis://redis:6379/0
# For EC2 with ElastiCache:
#   REDIS_HOST=YOUR_ELASTICACHE_ENDPOINT
#   REDIS_URL=redis://YOUR_ELASTICACHE_ENDPOINT:6379/0
# For EC2 with SSH Tunnel:
#   REDIS_HOST=localhost
#   REDIS_URL=redis://localhost:6379/0

REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_CACHE_TTL=3600
CACHE_TTL_SECONDS=3600
CACHE_PREFIX=quant
ENABLE_CACHE=True

# ==============================================
# API CONFIGURATION
# ==============================================
API_V1_PREFIX=/api/v1
PROJECT_NAME=Quant Investment API
VERSION=1.0.0
DEBUG=False

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
# IMPORTANT: Generate a new SECRET_KEY for production
# Command: openssl rand -hex 32
SECRET_KEY=CHANGE_THIS_IN_PRODUCTION_USE_OPENSSL_RAND_HEX_32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ==============================================
# PERFORMANCE SETTINGS
# ==============================================
CHUNK_SIZE=10000
MAX_WORKERS=4
ENABLE_QUERY_CACHE=True

# ==============================================
# BACKTESTING CONFIGURATION
# ==============================================
BACKTEST_MAX_CONCURRENT_JOBS=2
BACKTEST_MEMORY_LIMIT_GB=8

# ==============================================
# CORS SETTINGS
# ==============================================
# For Local Development:
#   BACKEND_CORS_ORIGINS=["http://localhost:3000"]
# For EC2 Production:
#   BACKEND_CORS_ORIGINS=["http://YOUR_EC2_IP:3000","http://YOUR_DOMAIN.com"]
BACKEND_CORS_ORIGINS=["http://localhost:3000"]

# ==============================================
# EXTERNAL APIs
# ==============================================
# OpenDart API Key (Get from: https://opendart.fss.or.kr/)
DART_API_KEY=YOUR_DART_API_KEY

# ==============================================
# LOGGING
# ==============================================
LOG_LEVEL=INFO
LOG_FILE=logs/quant_api.log
