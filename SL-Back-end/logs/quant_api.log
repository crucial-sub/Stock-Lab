2025-11-05 16:10:28,137 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,137 - app.services.advanced_backtest - INFO - [2025-03-20] 유니버스 종목 수: 18
2025-11-05 16:10:28,137 - app.services.advanced_backtest - INFO - [2025-03-20] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,168 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,168 - app.services.advanced_backtest - INFO - [2025-03-20] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,168 - app.services.advanced_backtest - INFO - [2025-03-20] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,182 - app.services.advanced_backtest - INFO - [2025-03-21] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,182 - app.services.advanced_backtest - INFO - [2025-03-21] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,182 - app.services.advanced_backtest - INFO - [2025-03-21] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,182 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,182 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,182 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,183 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,183 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,183 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 3, 21)}
2025-11-05 16:10:28,184 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,184 - app.services.advanced_backtest - INFO - [2025-03-21] 유니버스 종목 수: 18
2025-11-05 16:10:28,184 - app.services.advanced_backtest - INFO - [2025-03-21] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,205 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,205 - app.services.advanced_backtest - INFO - [2025-03-21] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,205 - app.services.advanced_backtest - INFO - [2025-03-21] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,213 - app.services.advanced_backtest - INFO - [2025-03-24] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,213 - app.services.advanced_backtest - INFO - [2025-03-24] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,213 - app.services.advanced_backtest - INFO - [2025-03-24] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,214 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,214 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,214 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,214 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,214 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,214 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 3, 24)}
2025-11-05 16:10:28,215 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,215 - app.services.advanced_backtest - INFO - [2025-03-24] 유니버스 종목 수: 18
2025-11-05 16:10:28,216 - app.services.advanced_backtest - INFO - [2025-03-24] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,241 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,241 - app.services.advanced_backtest - INFO - [2025-03-24] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,241 - app.services.advanced_backtest - INFO - [2025-03-24] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,256 - app.services.advanced_backtest - INFO - [2025-03-25] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,256 - app.services.advanced_backtest - INFO - [2025-03-25] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,256 - app.services.advanced_backtest - INFO - [2025-03-25] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,256 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,256 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,256 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,257 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,257 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,257 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 3, 25)}
2025-11-05 16:10:28,258 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,258 - app.services.advanced_backtest - INFO - [2025-03-25] 유니버스 종목 수: 18
2025-11-05 16:10:28,258 - app.services.advanced_backtest - INFO - [2025-03-25] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,278 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,279 - app.services.advanced_backtest - INFO - [2025-03-25] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,279 - app.services.advanced_backtest - INFO - [2025-03-25] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,289 - app.services.advanced_backtest - INFO - [2025-03-26] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,289 - app.services.advanced_backtest - INFO - [2025-03-26] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,289 - app.services.advanced_backtest - INFO - [2025-03-26] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,289 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,290 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,290 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,290 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,290 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,290 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 3, 26)}
2025-11-05 16:10:28,291 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,291 - app.services.advanced_backtest - INFO - [2025-03-26] 유니버스 종목 수: 18
2025-11-05 16:10:28,291 - app.services.advanced_backtest - INFO - [2025-03-26] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,312 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,313 - app.services.advanced_backtest - INFO - [2025-03-26] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,313 - app.services.advanced_backtest - INFO - [2025-03-26] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,323 - app.services.advanced_backtest - INFO - [2025-03-27] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,323 - app.services.advanced_backtest - INFO - [2025-03-27] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,323 - app.services.advanced_backtest - INFO - [2025-03-27] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,324 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,324 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,324 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,324 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,324 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,324 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 3, 27)}
2025-11-05 16:10:28,325 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,326 - app.services.advanced_backtest - INFO - [2025-03-27] 유니버스 종목 수: 18
2025-11-05 16:10:28,326 - app.services.advanced_backtest - INFO - [2025-03-27] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,346 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,346 - app.services.advanced_backtest - INFO - [2025-03-27] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,346 - app.services.advanced_backtest - INFO - [2025-03-27] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,382 - app.services.advanced_backtest - INFO - [2025-03-28] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,383 - app.services.advanced_backtest - INFO - [2025-03-28] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,383 - app.services.advanced_backtest - INFO - [2025-03-28] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,395 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,396 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,396 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,397 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,397 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,397 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 3, 28)}
2025-11-05 16:10:28,438 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,438 - app.services.advanced_backtest - INFO - [2025-03-28] 유니버스 종목 수: 18
2025-11-05 16:10:28,438 - app.services.advanced_backtest - INFO - [2025-03-28] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,502 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,502 - app.services.advanced_backtest - INFO - [2025-03-28] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,502 - app.services.advanced_backtest - INFO - [2025-03-28] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,520 - app.services.advanced_backtest - INFO - [2025-03-31] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,520 - app.services.advanced_backtest - INFO - [2025-03-31] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,520 - app.services.advanced_backtest - INFO - [2025-03-31] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,521 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,521 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,521 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,521 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,521 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,521 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 3, 31)}
2025-11-05 16:10:28,523 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,523 - app.services.advanced_backtest - INFO - [2025-03-31] 유니버스 종목 수: 18
2025-11-05 16:10:28,523 - app.services.advanced_backtest - INFO - [2025-03-31] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,543 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,543 - app.services.advanced_backtest - INFO - [2025-03-31] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,543 - app.services.advanced_backtest - INFO - [2025-03-31] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,553 - app.services.advanced_backtest - INFO - [2025-04-01] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,553 - app.services.advanced_backtest - INFO - [2025-04-01] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,553 - app.services.advanced_backtest - INFO - [2025-04-01] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,554 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,554 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,554 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,554 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,554 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,554 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 1)}
2025-11-05 16:10:28,555 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,556 - app.services.advanced_backtest - INFO - [2025-04-01] 유니버스 종목 수: 18
2025-11-05 16:10:28,556 - app.services.advanced_backtest - INFO - [2025-04-01] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,575 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,575 - app.services.advanced_backtest - INFO - [2025-04-01] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,575 - app.services.advanced_backtest - INFO - [2025-04-01] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,585 - app.services.advanced_backtest - INFO - [2025-04-02] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,585 - app.services.advanced_backtest - INFO - [2025-04-02] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,585 - app.services.advanced_backtest - INFO - [2025-04-02] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,585 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,586 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,586 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,586 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,586 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,586 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 2)}
2025-11-05 16:10:28,587 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,587 - app.services.advanced_backtest - INFO - [2025-04-02] 유니버스 종목 수: 18
2025-11-05 16:10:28,587 - app.services.advanced_backtest - INFO - [2025-04-02] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,607 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,608 - app.services.advanced_backtest - INFO - [2025-04-02] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,608 - app.services.advanced_backtest - INFO - [2025-04-02] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,616 - app.services.advanced_backtest - INFO - [2025-04-03] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,617 - app.services.advanced_backtest - INFO - [2025-04-03] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,617 - app.services.advanced_backtest - INFO - [2025-04-03] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,617 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,617 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,617 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,617 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,617 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,617 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 3)}
2025-11-05 16:10:28,619 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,619 - app.services.advanced_backtest - INFO - [2025-04-03] 유니버스 종목 수: 18
2025-11-05 16:10:28,619 - app.services.advanced_backtest - INFO - [2025-04-03] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,639 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,639 - app.services.advanced_backtest - INFO - [2025-04-03] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,639 - app.services.advanced_backtest - INFO - [2025-04-03] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,650 - app.services.advanced_backtest - INFO - [2025-04-04] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,650 - app.services.advanced_backtest - INFO - [2025-04-04] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,650 - app.services.advanced_backtest - INFO - [2025-04-04] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,651 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,651 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,651 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,651 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,651 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,651 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 4)}
2025-11-05 16:10:28,653 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,653 - app.services.advanced_backtest - INFO - [2025-04-04] 유니버스 종목 수: 18
2025-11-05 16:10:28,653 - app.services.advanced_backtest - INFO - [2025-04-04] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,671 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,671 - app.services.advanced_backtest - INFO - [2025-04-04] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,671 - app.services.advanced_backtest - INFO - [2025-04-04] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,672 - app.services.advanced_backtest - INFO - 진행 상황: 100/240 일 완료
2025-11-05 16:10:28,680 - app.services.advanced_backtest - INFO - [2025-04-07] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,680 - app.services.advanced_backtest - INFO - [2025-04-07] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,680 - app.services.advanced_backtest - INFO - [2025-04-07] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,681 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,681 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,681 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,681 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,681 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,681 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 7)}
2025-11-05 16:10:28,682 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,682 - app.services.advanced_backtest - INFO - [2025-04-07] 유니버스 종목 수: 18
2025-11-05 16:10:28,683 - app.services.advanced_backtest - INFO - [2025-04-07] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,699 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,700 - app.services.advanced_backtest - INFO - [2025-04-07] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,700 - app.services.advanced_backtest - INFO - [2025-04-07] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,708 - app.services.advanced_backtest - INFO - [2025-04-08] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,708 - app.services.advanced_backtest - INFO - [2025-04-08] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,708 - app.services.advanced_backtest - INFO - [2025-04-08] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,709 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,709 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,709 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,709 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,709 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,709 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 8)}
2025-11-05 16:10:28,710 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,710 - app.services.advanced_backtest - INFO - [2025-04-08] 유니버스 종목 수: 18
2025-11-05 16:10:28,710 - app.services.advanced_backtest - INFO - [2025-04-08] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,727 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,727 - app.services.advanced_backtest - INFO - [2025-04-08] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,727 - app.services.advanced_backtest - INFO - [2025-04-08] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,735 - app.services.advanced_backtest - INFO - [2025-04-09] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,735 - app.services.advanced_backtest - INFO - [2025-04-09] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,735 - app.services.advanced_backtest - INFO - [2025-04-09] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,736 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,736 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,736 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,736 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,736 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,736 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 9)}
2025-11-05 16:10:28,738 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,738 - app.services.advanced_backtest - INFO - [2025-04-09] 유니버스 종목 수: 18
2025-11-05 16:10:28,738 - app.services.advanced_backtest - INFO - [2025-04-09] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,755 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,755 - app.services.advanced_backtest - INFO - [2025-04-09] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,755 - app.services.advanced_backtest - INFO - [2025-04-09] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,764 - app.services.advanced_backtest - INFO - [2025-04-10] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,764 - app.services.advanced_backtest - INFO - [2025-04-10] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,764 - app.services.advanced_backtest - INFO - [2025-04-10] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,764 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,764 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,764 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,764 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,764 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,764 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 10)}
2025-11-05 16:10:28,766 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,766 - app.services.advanced_backtest - INFO - [2025-04-10] 유니버스 종목 수: 18
2025-11-05 16:10:28,766 - app.services.advanced_backtest - INFO - [2025-04-10] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,783 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,783 - app.services.advanced_backtest - INFO - [2025-04-10] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,783 - app.services.advanced_backtest - INFO - [2025-04-10] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,791 - app.services.advanced_backtest - INFO - [2025-04-11] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,791 - app.services.advanced_backtest - INFO - [2025-04-11] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,791 - app.services.advanced_backtest - INFO - [2025-04-11] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,792 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,792 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,792 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,792 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,792 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,792 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 11)}
2025-11-05 16:10:28,793 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,793 - app.services.advanced_backtest - INFO - [2025-04-11] 유니버스 종목 수: 18
2025-11-05 16:10:28,793 - app.services.advanced_backtest - INFO - [2025-04-11] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,810 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,810 - app.services.advanced_backtest - INFO - [2025-04-11] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,810 - app.services.advanced_backtest - INFO - [2025-04-11] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,818 - app.services.advanced_backtest - INFO - [2025-04-14] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,819 - app.services.advanced_backtest - INFO - [2025-04-14] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,819 - app.services.advanced_backtest - INFO - [2025-04-14] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,819 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,820 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,820 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,820 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,820 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,820 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 14)}
2025-11-05 16:10:28,821 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,821 - app.services.advanced_backtest - INFO - [2025-04-14] 유니버스 종목 수: 18
2025-11-05 16:10:28,821 - app.services.advanced_backtest - INFO - [2025-04-14] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,838 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,838 - app.services.advanced_backtest - INFO - [2025-04-14] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,838 - app.services.advanced_backtest - INFO - [2025-04-14] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,846 - app.services.advanced_backtest - INFO - [2025-04-15] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,846 - app.services.advanced_backtest - INFO - [2025-04-15] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,846 - app.services.advanced_backtest - INFO - [2025-04-15] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,847 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,847 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,847 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,847 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,847 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,847 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 15)}
2025-11-05 16:10:28,848 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,848 - app.services.advanced_backtest - INFO - [2025-04-15] 유니버스 종목 수: 18
2025-11-05 16:10:28,848 - app.services.advanced_backtest - INFO - [2025-04-15] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,865 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,865 - app.services.advanced_backtest - INFO - [2025-04-15] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,865 - app.services.advanced_backtest - INFO - [2025-04-15] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,874 - app.services.advanced_backtest - INFO - [2025-04-16] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,874 - app.services.advanced_backtest - INFO - [2025-04-16] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,874 - app.services.advanced_backtest - INFO - [2025-04-16] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,874 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,874 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,874 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,874 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,875 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,875 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 16)}
2025-11-05 16:10:28,876 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,876 - app.services.advanced_backtest - INFO - [2025-04-16] 유니버스 종목 수: 18
2025-11-05 16:10:28,876 - app.services.advanced_backtest - INFO - [2025-04-16] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,892 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,892 - app.services.advanced_backtest - INFO - [2025-04-16] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,892 - app.services.advanced_backtest - INFO - [2025-04-16] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,900 - app.services.advanced_backtest - INFO - [2025-04-17] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,900 - app.services.advanced_backtest - INFO - [2025-04-17] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,900 - app.services.advanced_backtest - INFO - [2025-04-17] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,900 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,900 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,900 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,900 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,901 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,901 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 17)}
2025-11-05 16:10:28,902 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,902 - app.services.advanced_backtest - INFO - [2025-04-17] 유니버스 종목 수: 18
2025-11-05 16:10:28,902 - app.services.advanced_backtest - INFO - [2025-04-17] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,919 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,919 - app.services.advanced_backtest - INFO - [2025-04-17] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,919 - app.services.advanced_backtest - INFO - [2025-04-17] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,927 - app.services.advanced_backtest - INFO - [2025-04-18] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,927 - app.services.advanced_backtest - INFO - [2025-04-18] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,927 - app.services.advanced_backtest - INFO - [2025-04-18] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,928 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,928 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,928 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,928 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,928 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,928 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 18)}
2025-11-05 16:10:28,929 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,929 - app.services.advanced_backtest - INFO - [2025-04-18] 유니버스 종목 수: 18
2025-11-05 16:10:28,929 - app.services.advanced_backtest - INFO - [2025-04-18] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,946 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,946 - app.services.advanced_backtest - INFO - [2025-04-18] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,946 - app.services.advanced_backtest - INFO - [2025-04-18] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,955 - app.services.advanced_backtest - INFO - [2025-04-21] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,955 - app.services.advanced_backtest - INFO - [2025-04-21] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,955 - app.services.advanced_backtest - INFO - [2025-04-21] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,955 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,955 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,955 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,955 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,955 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,955 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 21)}
2025-11-05 16:10:28,957 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,957 - app.services.advanced_backtest - INFO - [2025-04-21] 유니버스 종목 수: 18
2025-11-05 16:10:28,957 - app.services.advanced_backtest - INFO - [2025-04-21] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:28,973 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,973 - app.services.advanced_backtest - INFO - [2025-04-21] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:28,973 - app.services.advanced_backtest - INFO - [2025-04-21] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:28,981 - app.services.advanced_backtest - INFO - [2025-04-22] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:28,981 - app.services.advanced_backtest - INFO - [2025-04-22] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:28,982 - app.services.advanced_backtest - INFO - [2025-04-22] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:28,982 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:28,982 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:28,982 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:28,982 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:28,982 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:28,982 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 22)}
2025-11-05 16:10:28,983 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:28,984 - app.services.advanced_backtest - INFO - [2025-04-22] 유니버스 종목 수: 18
2025-11-05 16:10:28,984 - app.services.advanced_backtest - INFO - [2025-04-22] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,000 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,001 - app.services.advanced_backtest - INFO - [2025-04-22] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,001 - app.services.advanced_backtest - INFO - [2025-04-22] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,009 - app.services.advanced_backtest - INFO - [2025-04-23] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,009 - app.services.advanced_backtest - INFO - [2025-04-23] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,009 - app.services.advanced_backtest - INFO - [2025-04-23] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,010 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,010 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,010 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,010 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,010 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,010 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 23)}
2025-11-05 16:10:29,011 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,011 - app.services.advanced_backtest - INFO - [2025-04-23] 유니버스 종목 수: 18
2025-11-05 16:10:29,011 - app.services.advanced_backtest - INFO - [2025-04-23] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,029 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,029 - app.services.advanced_backtest - INFO - [2025-04-23] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,029 - app.services.advanced_backtest - INFO - [2025-04-23] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,037 - app.services.advanced_backtest - INFO - [2025-04-24] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,037 - app.services.advanced_backtest - INFO - [2025-04-24] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,037 - app.services.advanced_backtest - INFO - [2025-04-24] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,038 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,038 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,038 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,038 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,038 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,038 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 24)}
2025-11-05 16:10:29,039 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,039 - app.services.advanced_backtest - INFO - [2025-04-24] 유니버스 종목 수: 18
2025-11-05 16:10:29,039 - app.services.advanced_backtest - INFO - [2025-04-24] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,057 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,057 - app.services.advanced_backtest - INFO - [2025-04-24] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,057 - app.services.advanced_backtest - INFO - [2025-04-24] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,066 - app.services.advanced_backtest - INFO - [2025-04-25] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,066 - app.services.advanced_backtest - INFO - [2025-04-25] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,066 - app.services.advanced_backtest - INFO - [2025-04-25] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,066 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,066 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,066 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,066 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,066 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,066 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 25)}
2025-11-05 16:10:29,068 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,068 - app.services.advanced_backtest - INFO - [2025-04-25] 유니버스 종목 수: 18
2025-11-05 16:10:29,068 - app.services.advanced_backtest - INFO - [2025-04-25] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,085 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,085 - app.services.advanced_backtest - INFO - [2025-04-25] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,085 - app.services.advanced_backtest - INFO - [2025-04-25] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,093 - app.services.advanced_backtest - INFO - [2025-04-28] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,093 - app.services.advanced_backtest - INFO - [2025-04-28] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,093 - app.services.advanced_backtest - INFO - [2025-04-28] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,094 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,094 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,094 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,094 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,094 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,094 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 28)}
2025-11-05 16:10:29,095 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,095 - app.services.advanced_backtest - INFO - [2025-04-28] 유니버스 종목 수: 18
2025-11-05 16:10:29,095 - app.services.advanced_backtest - INFO - [2025-04-28] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,111 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/status
2025-11-05 16:10:29,112 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,112 - app.services.advanced_backtest - INFO - [2025-04-28] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,112 - app.services.advanced_backtest - INFO - [2025-04-28] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,137 - app.services.advanced_backtest - INFO - [2025-04-29] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,137 - app.services.advanced_backtest - INFO - [2025-04-29] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,137 - app.services.advanced_backtest - INFO - [2025-04-29] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,138 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,138 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,138 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,138 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,138 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,138 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 29)}
2025-11-05 16:10:29,139 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,139 - app.services.advanced_backtest - INFO - [2025-04-29] 유니버스 종목 수: 18
2025-11-05 16:10:29,139 - app.services.advanced_backtest - INFO - [2025-04-29] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,141 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/status - 200 (29.53ms)
2025-11-05 16:10:29,157 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,157 - app.services.advanced_backtest - INFO - [2025-04-29] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,157 - app.services.advanced_backtest - INFO - [2025-04-29] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,166 - app.services.advanced_backtest - INFO - [2025-04-30] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,166 - app.services.advanced_backtest - INFO - [2025-04-30] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,166 - app.services.advanced_backtest - INFO - [2025-04-30] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,166 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,166 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,166 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,166 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,166 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,167 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 4, 30)}
2025-11-05 16:10:29,168 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,168 - app.services.advanced_backtest - INFO - [2025-04-30] 유니버스 종목 수: 18
2025-11-05 16:10:29,168 - app.services.advanced_backtest - INFO - [2025-04-30] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,184 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,184 - app.services.advanced_backtest - INFO - [2025-04-30] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,184 - app.services.advanced_backtest - INFO - [2025-04-30] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,194 - app.services.advanced_backtest - INFO - [2025-05-02] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,194 - app.services.advanced_backtest - INFO - [2025-05-02] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,194 - app.services.advanced_backtest - INFO - [2025-05-02] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,195 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,195 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,195 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,195 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,195 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,195 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 2)}
2025-11-05 16:10:29,196 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,196 - app.services.advanced_backtest - INFO - [2025-05-02] 유니버스 종목 수: 18
2025-11-05 16:10:29,196 - app.services.advanced_backtest - INFO - [2025-05-02] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,214 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,214 - app.services.advanced_backtest - INFO - [2025-05-02] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,214 - app.services.advanced_backtest - INFO - [2025-05-02] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,222 - app.services.advanced_backtest - INFO - [2025-05-07] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,222 - app.services.advanced_backtest - INFO - [2025-05-07] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,222 - app.services.advanced_backtest - INFO - [2025-05-07] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,223 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,223 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,223 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,223 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,223 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,223 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 7)}
2025-11-05 16:10:29,224 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,224 - app.services.advanced_backtest - INFO - [2025-05-07] 유니버스 종목 수: 18
2025-11-05 16:10:29,224 - app.services.advanced_backtest - INFO - [2025-05-07] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,243 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,243 - app.services.advanced_backtest - INFO - [2025-05-07] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,243 - app.services.advanced_backtest - INFO - [2025-05-07] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,253 - app.services.advanced_backtest - INFO - [2025-05-08] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,254 - app.services.advanced_backtest - INFO - [2025-05-08] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,254 - app.services.advanced_backtest - INFO - [2025-05-08] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,254 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,254 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,254 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,254 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,254 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,254 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 8)}
2025-11-05 16:10:29,256 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,256 - app.services.advanced_backtest - INFO - [2025-05-08] 유니버스 종목 수: 18
2025-11-05 16:10:29,256 - app.services.advanced_backtest - INFO - [2025-05-08] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,275 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,275 - app.services.advanced_backtest - INFO - [2025-05-08] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,275 - app.services.advanced_backtest - INFO - [2025-05-08] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,283 - app.services.advanced_backtest - INFO - [2025-05-09] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,283 - app.services.advanced_backtest - INFO - [2025-05-09] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,283 - app.services.advanced_backtest - INFO - [2025-05-09] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,284 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,284 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,284 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,284 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,284 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,284 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 9)}
2025-11-05 16:10:29,285 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,285 - app.services.advanced_backtest - INFO - [2025-05-09] 유니버스 종목 수: 18
2025-11-05 16:10:29,285 - app.services.advanced_backtest - INFO - [2025-05-09] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,301 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,301 - app.services.advanced_backtest - INFO - [2025-05-09] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,301 - app.services.advanced_backtest - INFO - [2025-05-09] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,308 - app.services.advanced_backtest - INFO - [2025-05-12] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,308 - app.services.advanced_backtest - INFO - [2025-05-12] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,308 - app.services.advanced_backtest - INFO - [2025-05-12] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,309 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,309 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,309 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,309 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,309 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,309 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 12)}
2025-11-05 16:10:29,310 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,310 - app.services.advanced_backtest - INFO - [2025-05-12] 유니버스 종목 수: 18
2025-11-05 16:10:29,311 - app.services.advanced_backtest - INFO - [2025-05-12] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,331 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,331 - app.services.advanced_backtest - INFO - [2025-05-12] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,331 - app.services.advanced_backtest - INFO - [2025-05-12] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,340 - app.services.advanced_backtest - INFO - [2025-05-13] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,340 - app.services.advanced_backtest - INFO - [2025-05-13] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,340 - app.services.advanced_backtest - INFO - [2025-05-13] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,340 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,340 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,340 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,340 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,341 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,341 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 13)}
2025-11-05 16:10:29,342 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,342 - app.services.advanced_backtest - INFO - [2025-05-13] 유니버스 종목 수: 18
2025-11-05 16:10:29,342 - app.services.advanced_backtest - INFO - [2025-05-13] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,358 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,358 - app.services.advanced_backtest - INFO - [2025-05-13] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,358 - app.services.advanced_backtest - INFO - [2025-05-13] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,374 - app.services.advanced_backtest - INFO - [2025-05-14] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,375 - app.services.advanced_backtest - INFO - [2025-05-14] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,375 - app.services.advanced_backtest - INFO - [2025-05-14] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,375 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,376 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,376 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,376 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,376 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,376 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 14)}
2025-11-05 16:10:29,377 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,377 - app.services.advanced_backtest - INFO - [2025-05-14] 유니버스 종목 수: 18
2025-11-05 16:10:29,377 - app.services.advanced_backtest - INFO - [2025-05-14] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,395 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,395 - app.services.advanced_backtest - INFO - [2025-05-14] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,395 - app.services.advanced_backtest - INFO - [2025-05-14] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,403 - app.services.advanced_backtest - INFO - [2025-05-15] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,404 - app.services.advanced_backtest - INFO - [2025-05-15] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,404 - app.services.advanced_backtest - INFO - [2025-05-15] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,404 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,404 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,404 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,404 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,404 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,404 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 15)}
2025-11-05 16:10:29,406 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,406 - app.services.advanced_backtest - INFO - [2025-05-15] 유니버스 종목 수: 18
2025-11-05 16:10:29,406 - app.services.advanced_backtest - INFO - [2025-05-15] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,423 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,424 - app.services.advanced_backtest - INFO - [2025-05-15] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,424 - app.services.advanced_backtest - INFO - [2025-05-15] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,433 - app.services.advanced_backtest - INFO - [2025-05-16] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,433 - app.services.advanced_backtest - INFO - [2025-05-16] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,433 - app.services.advanced_backtest - INFO - [2025-05-16] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,434 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,434 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,434 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,434 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,434 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,434 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 16)}
2025-11-05 16:10:29,435 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,435 - app.services.advanced_backtest - INFO - [2025-05-16] 유니버스 종목 수: 18
2025-11-05 16:10:29,436 - app.services.advanced_backtest - INFO - [2025-05-16] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,454 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,455 - app.services.advanced_backtest - INFO - [2025-05-16] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,455 - app.services.advanced_backtest - INFO - [2025-05-16] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,463 - app.services.advanced_backtest - INFO - [2025-05-19] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,464 - app.services.advanced_backtest - INFO - [2025-05-19] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,464 - app.services.advanced_backtest - INFO - [2025-05-19] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,464 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,464 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,464 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,464 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,464 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,464 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 19)}
2025-11-05 16:10:29,466 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,466 - app.services.advanced_backtest - INFO - [2025-05-19] 유니버스 종목 수: 18
2025-11-05 16:10:29,466 - app.services.advanced_backtest - INFO - [2025-05-19] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,484 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,484 - app.services.advanced_backtest - INFO - [2025-05-19] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,484 - app.services.advanced_backtest - INFO - [2025-05-19] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,494 - app.services.advanced_backtest - INFO - [2025-05-20] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,494 - app.services.advanced_backtest - INFO - [2025-05-20] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,494 - app.services.advanced_backtest - INFO - [2025-05-20] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,495 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,495 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,495 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,495 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,495 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,495 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 20)}
2025-11-05 16:10:29,496 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,496 - app.services.advanced_backtest - INFO - [2025-05-20] 유니버스 종목 수: 18
2025-11-05 16:10:29,496 - app.services.advanced_backtest - INFO - [2025-05-20] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,514 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,515 - app.services.advanced_backtest - INFO - [2025-05-20] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,515 - app.services.advanced_backtest - INFO - [2025-05-20] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,523 - app.services.advanced_backtest - INFO - [2025-05-21] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,523 - app.services.advanced_backtest - INFO - [2025-05-21] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,523 - app.services.advanced_backtest - INFO - [2025-05-21] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,524 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,524 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,524 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,524 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,524 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,524 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 21)}
2025-11-05 16:10:29,526 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,526 - app.services.advanced_backtest - INFO - [2025-05-21] 유니버스 종목 수: 18
2025-11-05 16:10:29,526 - app.services.advanced_backtest - INFO - [2025-05-21] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,543 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,543 - app.services.advanced_backtest - INFO - [2025-05-21] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,543 - app.services.advanced_backtest - INFO - [2025-05-21] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,552 - app.services.advanced_backtest - INFO - [2025-05-22] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,552 - app.services.advanced_backtest - INFO - [2025-05-22] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,552 - app.services.advanced_backtest - INFO - [2025-05-22] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,552 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,553 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,553 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,553 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,553 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,553 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 22)}
2025-11-05 16:10:29,554 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,554 - app.services.advanced_backtest - INFO - [2025-05-22] 유니버스 종목 수: 18
2025-11-05 16:10:29,554 - app.services.advanced_backtest - INFO - [2025-05-22] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,570 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,570 - app.services.advanced_backtest - INFO - [2025-05-22] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,570 - app.services.advanced_backtest - INFO - [2025-05-22] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,579 - app.services.advanced_backtest - INFO - [2025-05-23] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,579 - app.services.advanced_backtest - INFO - [2025-05-23] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,579 - app.services.advanced_backtest - INFO - [2025-05-23] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,579 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,580 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,580 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,580 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,580 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,580 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 23)}
2025-11-05 16:10:29,581 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,581 - app.services.advanced_backtest - INFO - [2025-05-23] 유니버스 종목 수: 18
2025-11-05 16:10:29,581 - app.services.advanced_backtest - INFO - [2025-05-23] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,597 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,597 - app.services.advanced_backtest - INFO - [2025-05-23] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,597 - app.services.advanced_backtest - INFO - [2025-05-23] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,612 - app.services.advanced_backtest - INFO - [2025-05-26] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,612 - app.services.advanced_backtest - INFO - [2025-05-26] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,612 - app.services.advanced_backtest - INFO - [2025-05-26] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,613 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,613 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,613 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,613 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,613 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,613 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 26)}
2025-11-05 16:10:29,615 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,615 - app.services.advanced_backtest - INFO - [2025-05-26] 유니버스 종목 수: 18
2025-11-05 16:10:29,615 - app.services.advanced_backtest - INFO - [2025-05-26] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,661 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,661 - app.services.advanced_backtest - INFO - [2025-05-26] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,663 - app.services.advanced_backtest - INFO - [2025-05-26] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,680 - app.services.advanced_backtest - INFO - [2025-05-27] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,682 - app.services.advanced_backtest - INFO - [2025-05-27] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,683 - app.services.advanced_backtest - INFO - [2025-05-27] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,684 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,684 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,684 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,684 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,684 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,684 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 27)}
2025-11-05 16:10:29,686 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,686 - app.services.advanced_backtest - INFO - [2025-05-27] 유니버스 종목 수: 18
2025-11-05 16:10:29,686 - app.services.advanced_backtest - INFO - [2025-05-27] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,711 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,711 - app.services.advanced_backtest - INFO - [2025-05-27] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,711 - app.services.advanced_backtest - INFO - [2025-05-27] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,720 - app.services.advanced_backtest - INFO - [2025-05-28] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,720 - app.services.advanced_backtest - INFO - [2025-05-28] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,720 - app.services.advanced_backtest - INFO - [2025-05-28] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,721 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,721 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,721 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,721 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,721 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,721 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 28)}
2025-11-05 16:10:29,723 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,723 - app.services.advanced_backtest - INFO - [2025-05-28] 유니버스 종목 수: 18
2025-11-05 16:10:29,723 - app.services.advanced_backtest - INFO - [2025-05-28] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,744 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,744 - app.services.advanced_backtest - INFO - [2025-05-28] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,744 - app.services.advanced_backtest - INFO - [2025-05-28] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,755 - app.services.advanced_backtest - INFO - [2025-05-29] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,755 - app.services.advanced_backtest - INFO - [2025-05-29] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,755 - app.services.advanced_backtest - INFO - [2025-05-29] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,755 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,756 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,756 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,756 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,756 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,756 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 29)}
2025-11-05 16:10:29,757 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,757 - app.services.advanced_backtest - INFO - [2025-05-29] 유니버스 종목 수: 18
2025-11-05 16:10:29,757 - app.services.advanced_backtest - INFO - [2025-05-29] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,782 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,782 - app.services.advanced_backtest - INFO - [2025-05-29] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,782 - app.services.advanced_backtest - INFO - [2025-05-29] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,792 - app.services.advanced_backtest - INFO - [2025-05-30] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,792 - app.services.advanced_backtest - INFO - [2025-05-30] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,792 - app.services.advanced_backtest - INFO - [2025-05-30] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,793 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,793 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,793 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,793 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,793 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,793 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 5, 30)}
2025-11-05 16:10:29,794 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,794 - app.services.advanced_backtest - INFO - [2025-05-30] 유니버스 종목 수: 18
2025-11-05 16:10:29,794 - app.services.advanced_backtest - INFO - [2025-05-30] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,826 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,826 - app.services.advanced_backtest - INFO - [2025-05-30] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,826 - app.services.advanced_backtest - INFO - [2025-05-30] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,836 - app.services.advanced_backtest - INFO - [2025-06-02] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,836 - app.services.advanced_backtest - INFO - [2025-06-02] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,836 - app.services.advanced_backtest - INFO - [2025-06-02] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,837 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,837 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,837 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,837 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,837 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,837 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 2)}
2025-11-05 16:10:29,838 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,839 - app.services.advanced_backtest - INFO - [2025-06-02] 유니버스 종목 수: 18
2025-11-05 16:10:29,839 - app.services.advanced_backtest - INFO - [2025-06-02] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,859 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,859 - app.services.advanced_backtest - INFO - [2025-06-02] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,859 - app.services.advanced_backtest - INFO - [2025-06-02] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,873 - app.services.advanced_backtest - INFO - [2025-06-04] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,873 - app.services.advanced_backtest - INFO - [2025-06-04] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,873 - app.services.advanced_backtest - INFO - [2025-06-04] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,874 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,874 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,874 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,874 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,874 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,874 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 4)}
2025-11-05 16:10:29,875 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,875 - app.services.advanced_backtest - INFO - [2025-06-04] 유니버스 종목 수: 18
2025-11-05 16:10:29,875 - app.services.advanced_backtest - INFO - [2025-06-04] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,902 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,903 - app.services.advanced_backtest - INFO - [2025-06-04] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,903 - app.services.advanced_backtest - INFO - [2025-06-04] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,913 - app.services.advanced_backtest - INFO - [2025-06-05] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,913 - app.services.advanced_backtest - INFO - [2025-06-05] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,913 - app.services.advanced_backtest - INFO - [2025-06-05] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,914 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,914 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,914 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,914 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,914 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,914 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 5)}
2025-11-05 16:10:29,915 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,915 - app.services.advanced_backtest - INFO - [2025-06-05] 유니버스 종목 수: 18
2025-11-05 16:10:29,915 - app.services.advanced_backtest - INFO - [2025-06-05] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,934 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,934 - app.services.advanced_backtest - INFO - [2025-06-05] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,935 - app.services.advanced_backtest - INFO - [2025-06-05] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,944 - app.services.advanced_backtest - INFO - [2025-06-09] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,944 - app.services.advanced_backtest - INFO - [2025-06-09] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,944 - app.services.advanced_backtest - INFO - [2025-06-09] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,946 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,947 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,947 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,947 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,947 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,947 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 9)}
2025-11-05 16:10:29,949 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,949 - app.services.advanced_backtest - INFO - [2025-06-09] 유니버스 종목 수: 18
2025-11-05 16:10:29,949 - app.services.advanced_backtest - INFO - [2025-06-09] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:29,969 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,969 - app.services.advanced_backtest - INFO - [2025-06-09] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:29,969 - app.services.advanced_backtest - INFO - [2025-06-09] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:29,981 - app.services.advanced_backtest - INFO - [2025-06-10] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:29,981 - app.services.advanced_backtest - INFO - [2025-06-10] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:29,981 - app.services.advanced_backtest - INFO - [2025-06-10] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:29,982 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:29,982 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:29,982 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:29,982 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:29,982 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:29,982 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 10)}
2025-11-05 16:10:29,983 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:29,983 - app.services.advanced_backtest - INFO - [2025-06-10] 유니버스 종목 수: 18
2025-11-05 16:10:29,983 - app.services.advanced_backtest - INFO - [2025-06-10] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,011 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,011 - app.services.advanced_backtest - INFO - [2025-06-10] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,012 - app.services.advanced_backtest - INFO - [2025-06-10] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,021 - app.services.advanced_backtest - INFO - [2025-06-11] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,021 - app.services.advanced_backtest - INFO - [2025-06-11] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,021 - app.services.advanced_backtest - INFO - [2025-06-11] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,022 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,022 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,023 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,023 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,023 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,023 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 11)}
2025-11-05 16:10:30,025 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,025 - app.services.advanced_backtest - INFO - [2025-06-11] 유니버스 종목 수: 18
2025-11-05 16:10:30,025 - app.services.advanced_backtest - INFO - [2025-06-11] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,046 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,047 - app.services.advanced_backtest - INFO - [2025-06-11] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,047 - app.services.advanced_backtest - INFO - [2025-06-11] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,056 - app.services.advanced_backtest - INFO - [2025-06-12] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,056 - app.services.advanced_backtest - INFO - [2025-06-12] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,056 - app.services.advanced_backtest - INFO - [2025-06-12] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,057 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,057 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,057 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,057 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,057 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,057 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 12)}
2025-11-05 16:10:30,058 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,059 - app.services.advanced_backtest - INFO - [2025-06-12] 유니버스 종목 수: 18
2025-11-05 16:10:30,059 - app.services.advanced_backtest - INFO - [2025-06-12] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,081 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,081 - app.services.advanced_backtest - INFO - [2025-06-12] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,081 - app.services.advanced_backtest - INFO - [2025-06-12] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,094 - app.services.advanced_backtest - INFO - [2025-06-13] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,094 - app.services.advanced_backtest - INFO - [2025-06-13] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,095 - app.services.advanced_backtest - INFO - [2025-06-13] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,095 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,095 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,095 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,095 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,095 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,095 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 13)}
2025-11-05 16:10:30,097 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,097 - app.services.advanced_backtest - INFO - [2025-06-13] 유니버스 종목 수: 18
2025-11-05 16:10:30,097 - app.services.advanced_backtest - INFO - [2025-06-13] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,121 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,121 - app.services.advanced_backtest - INFO - [2025-06-13] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,121 - app.services.advanced_backtest - INFO - [2025-06-13] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,133 - app.services.advanced_backtest - INFO - [2025-06-16] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,133 - app.services.advanced_backtest - INFO - [2025-06-16] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,133 - app.services.advanced_backtest - INFO - [2025-06-16] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,134 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,134 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,134 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,134 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,134 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,134 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 16)}
2025-11-05 16:10:30,135 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,135 - app.services.advanced_backtest - INFO - [2025-06-16] 유니버스 종목 수: 18
2025-11-05 16:10:30,136 - app.services.advanced_backtest - INFO - [2025-06-16] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,161 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,161 - app.services.advanced_backtest - INFO - [2025-06-16] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,161 - app.services.advanced_backtest - INFO - [2025-06-16] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,174 - app.services.advanced_backtest - INFO - [2025-06-17] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,174 - app.services.advanced_backtest - INFO - [2025-06-17] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,174 - app.services.advanced_backtest - INFO - [2025-06-17] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,175 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,175 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,175 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,175 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,175 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,175 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 17)}
2025-11-05 16:10:30,176 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,176 - app.services.advanced_backtest - INFO - [2025-06-17] 유니버스 종목 수: 18
2025-11-05 16:10:30,176 - app.services.advanced_backtest - INFO - [2025-06-17] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,205 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,206 - app.services.advanced_backtest - INFO - [2025-06-17] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,206 - app.services.advanced_backtest - INFO - [2025-06-17] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,221 - app.services.advanced_backtest - INFO - [2025-06-18] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,221 - app.services.advanced_backtest - INFO - [2025-06-18] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,221 - app.services.advanced_backtest - INFO - [2025-06-18] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,221 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,221 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,221 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,221 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,221 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,222 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 18)}
2025-11-05 16:10:30,223 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,223 - app.services.advanced_backtest - INFO - [2025-06-18] 유니버스 종목 수: 18
2025-11-05 16:10:30,223 - app.services.advanced_backtest - INFO - [2025-06-18] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,247 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,247 - app.services.advanced_backtest - INFO - [2025-06-18] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,247 - app.services.advanced_backtest - INFO - [2025-06-18] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,257 - app.services.advanced_backtest - INFO - [2025-06-19] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,257 - app.services.advanced_backtest - INFO - [2025-06-19] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,257 - app.services.advanced_backtest - INFO - [2025-06-19] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,257 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,257 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,257 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,257 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,257 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,257 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 19)}
2025-11-05 16:10:30,259 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,259 - app.services.advanced_backtest - INFO - [2025-06-19] 유니버스 종목 수: 18
2025-11-05 16:10:30,259 - app.services.advanced_backtest - INFO - [2025-06-19] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,288 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,289 - app.services.advanced_backtest - INFO - [2025-06-19] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,289 - app.services.advanced_backtest - INFO - [2025-06-19] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,297 - app.services.advanced_backtest - INFO - [2025-06-20] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,297 - app.services.advanced_backtest - INFO - [2025-06-20] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,297 - app.services.advanced_backtest - INFO - [2025-06-20] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,297 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,297 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,297 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,297 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,297 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,297 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 20)}
2025-11-05 16:10:30,298 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,299 - app.services.advanced_backtest - INFO - [2025-06-20] 유니버스 종목 수: 18
2025-11-05 16:10:30,299 - app.services.advanced_backtest - INFO - [2025-06-20] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,322 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,322 - app.services.advanced_backtest - INFO - [2025-06-20] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,322 - app.services.advanced_backtest - INFO - [2025-06-20] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,336 - app.services.advanced_backtest - INFO - [2025-06-23] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,336 - app.services.advanced_backtest - INFO - [2025-06-23] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,336 - app.services.advanced_backtest - INFO - [2025-06-23] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,337 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,337 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,337 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,337 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,337 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,337 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 23)}
2025-11-05 16:10:30,338 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,338 - app.services.advanced_backtest - INFO - [2025-06-23] 유니버스 종목 수: 18
2025-11-05 16:10:30,338 - app.services.advanced_backtest - INFO - [2025-06-23] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,364 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,364 - app.services.advanced_backtest - INFO - [2025-06-23] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,364 - app.services.advanced_backtest - INFO - [2025-06-23] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,374 - app.services.advanced_backtest - INFO - [2025-06-24] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,375 - app.services.advanced_backtest - INFO - [2025-06-24] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,375 - app.services.advanced_backtest - INFO - [2025-06-24] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,376 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,376 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,376 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,376 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,376 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,376 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 24)}
2025-11-05 16:10:30,379 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,380 - app.services.advanced_backtest - INFO - [2025-06-24] 유니버스 종목 수: 18
2025-11-05 16:10:30,380 - app.services.advanced_backtest - INFO - [2025-06-24] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,404 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,404 - app.services.advanced_backtest - INFO - [2025-06-24] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,404 - app.services.advanced_backtest - INFO - [2025-06-24] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,418 - app.services.advanced_backtest - INFO - [2025-06-25] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,418 - app.services.advanced_backtest - INFO - [2025-06-25] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,418 - app.services.advanced_backtest - INFO - [2025-06-25] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,419 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,419 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,419 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,419 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,419 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,419 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 25)}
2025-11-05 16:10:30,420 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,420 - app.services.advanced_backtest - INFO - [2025-06-25] 유니버스 종목 수: 18
2025-11-05 16:10:30,420 - app.services.advanced_backtest - INFO - [2025-06-25] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,441 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,442 - app.services.advanced_backtest - INFO - [2025-06-25] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,442 - app.services.advanced_backtest - INFO - [2025-06-25] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,454 - app.services.advanced_backtest - INFO - [2025-06-26] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,454 - app.services.advanced_backtest - INFO - [2025-06-26] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,454 - app.services.advanced_backtest - INFO - [2025-06-26] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,454 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,454 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,455 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,455 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,455 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,455 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 26)}
2025-11-05 16:10:30,456 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,456 - app.services.advanced_backtest - INFO - [2025-06-26] 유니버스 종목 수: 18
2025-11-05 16:10:30,456 - app.services.advanced_backtest - INFO - [2025-06-26] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,480 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,481 - app.services.advanced_backtest - INFO - [2025-06-26] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,481 - app.services.advanced_backtest - INFO - [2025-06-26] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,500 - app.services.advanced_backtest - INFO - [2025-06-27] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,501 - app.services.advanced_backtest - INFO - [2025-06-27] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,501 - app.services.advanced_backtest - INFO - [2025-06-27] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,501 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,501 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,502 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,502 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,502 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,502 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 27)}
2025-11-05 16:10:30,503 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,504 - app.services.advanced_backtest - INFO - [2025-06-27] 유니버스 종목 수: 18
2025-11-05 16:10:30,504 - app.services.advanced_backtest - INFO - [2025-06-27] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,532 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,532 - app.services.advanced_backtest - INFO - [2025-06-27] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,532 - app.services.advanced_backtest - INFO - [2025-06-27] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,543 - app.services.advanced_backtest - INFO - [2025-06-30] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,544 - app.services.advanced_backtest - INFO - [2025-06-30] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,544 - app.services.advanced_backtest - INFO - [2025-06-30] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,544 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,544 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,544 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,544 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,544 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,545 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 6, 30)}
2025-11-05 16:10:30,546 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,546 - app.services.advanced_backtest - INFO - [2025-06-30] 유니버스 종목 수: 18
2025-11-05 16:10:30,546 - app.services.advanced_backtest - INFO - [2025-06-30] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,566 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,566 - app.services.advanced_backtest - INFO - [2025-06-30] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,566 - app.services.advanced_backtest - INFO - [2025-06-30] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,577 - app.services.advanced_backtest - INFO - [2025-07-01] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,577 - app.services.advanced_backtest - INFO - [2025-07-01] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,577 - app.services.advanced_backtest - INFO - [2025-07-01] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,578 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,578 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,578 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,578 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,578 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,578 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 1)}
2025-11-05 16:10:30,579 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,579 - app.services.advanced_backtest - INFO - [2025-07-01] 유니버스 종목 수: 18
2025-11-05 16:10:30,579 - app.services.advanced_backtest - INFO - [2025-07-01] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,596 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,596 - app.services.advanced_backtest - INFO - [2025-07-01] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,596 - app.services.advanced_backtest - INFO - [2025-07-01] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,605 - app.services.advanced_backtest - INFO - [2025-07-02] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,605 - app.services.advanced_backtest - INFO - [2025-07-02] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,605 - app.services.advanced_backtest - INFO - [2025-07-02] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,606 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,606 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,606 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,606 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,606 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,606 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 2)}
2025-11-05 16:10:30,607 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,607 - app.services.advanced_backtest - INFO - [2025-07-02] 유니버스 종목 수: 18
2025-11-05 16:10:30,607 - app.services.advanced_backtest - INFO - [2025-07-02] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,624 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,624 - app.services.advanced_backtest - INFO - [2025-07-02] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,624 - app.services.advanced_backtest - INFO - [2025-07-02] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,633 - app.services.advanced_backtest - INFO - [2025-07-03] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,633 - app.services.advanced_backtest - INFO - [2025-07-03] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,633 - app.services.advanced_backtest - INFO - [2025-07-03] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,633 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,634 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,634 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,634 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,634 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,634 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 3)}
2025-11-05 16:10:30,635 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,635 - app.services.advanced_backtest - INFO - [2025-07-03] 유니버스 종목 수: 18
2025-11-05 16:10:30,635 - app.services.advanced_backtest - INFO - [2025-07-03] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,651 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,652 - app.services.advanced_backtest - INFO - [2025-07-03] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,652 - app.services.advanced_backtest - INFO - [2025-07-03] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,660 - app.services.advanced_backtest - INFO - [2025-07-04] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,660 - app.services.advanced_backtest - INFO - [2025-07-04] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,660 - app.services.advanced_backtest - INFO - [2025-07-04] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,661 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,661 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,661 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,661 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,661 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,661 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 4)}
2025-11-05 16:10:30,662 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,662 - app.services.advanced_backtest - INFO - [2025-07-04] 유니버스 종목 수: 18
2025-11-05 16:10:30,662 - app.services.advanced_backtest - INFO - [2025-07-04] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,679 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,679 - app.services.advanced_backtest - INFO - [2025-07-04] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,679 - app.services.advanced_backtest - INFO - [2025-07-04] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,687 - app.services.advanced_backtest - INFO - [2025-07-07] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,687 - app.services.advanced_backtest - INFO - [2025-07-07] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,687 - app.services.advanced_backtest - INFO - [2025-07-07] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,688 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,688 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,688 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,688 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,688 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,688 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 7)}
2025-11-05 16:10:30,689 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,689 - app.services.advanced_backtest - INFO - [2025-07-07] 유니버스 종목 수: 18
2025-11-05 16:10:30,689 - app.services.advanced_backtest - INFO - [2025-07-07] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,705 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,706 - app.services.advanced_backtest - INFO - [2025-07-07] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,706 - app.services.advanced_backtest - INFO - [2025-07-07] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,714 - app.services.advanced_backtest - INFO - [2025-07-08] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,714 - app.services.advanced_backtest - INFO - [2025-07-08] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,714 - app.services.advanced_backtest - INFO - [2025-07-08] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,715 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,715 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,715 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,715 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,715 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,715 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 8)}
2025-11-05 16:10:30,716 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,716 - app.services.advanced_backtest - INFO - [2025-07-08] 유니버스 종목 수: 18
2025-11-05 16:10:30,716 - app.services.advanced_backtest - INFO - [2025-07-08] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,733 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,733 - app.services.advanced_backtest - INFO - [2025-07-08] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,733 - app.services.advanced_backtest - INFO - [2025-07-08] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,742 - app.services.advanced_backtest - INFO - [2025-07-09] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,742 - app.services.advanced_backtest - INFO - [2025-07-09] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,742 - app.services.advanced_backtest - INFO - [2025-07-09] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,743 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,743 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,743 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,743 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,743 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,743 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 9)}
2025-11-05 16:10:30,744 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,744 - app.services.advanced_backtest - INFO - [2025-07-09] 유니버스 종목 수: 18
2025-11-05 16:10:30,744 - app.services.advanced_backtest - INFO - [2025-07-09] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,761 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,761 - app.services.advanced_backtest - INFO - [2025-07-09] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,761 - app.services.advanced_backtest - INFO - [2025-07-09] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,770 - app.services.advanced_backtest - INFO - [2025-07-10] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,771 - app.services.advanced_backtest - INFO - [2025-07-10] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,771 - app.services.advanced_backtest - INFO - [2025-07-10] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,771 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,771 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,771 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,771 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,771 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,771 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 10)}
2025-11-05 16:10:30,772 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,773 - app.services.advanced_backtest - INFO - [2025-07-10] 유니버스 종목 수: 18
2025-11-05 16:10:30,773 - app.services.advanced_backtest - INFO - [2025-07-10] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,789 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,789 - app.services.advanced_backtest - INFO - [2025-07-10] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,789 - app.services.advanced_backtest - INFO - [2025-07-10] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,799 - app.services.advanced_backtest - INFO - [2025-07-11] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,799 - app.services.advanced_backtest - INFO - [2025-07-11] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,799 - app.services.advanced_backtest - INFO - [2025-07-11] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,799 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,799 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,799 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,799 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,799 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,800 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 11)}
2025-11-05 16:10:30,801 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,801 - app.services.advanced_backtest - INFO - [2025-07-11] 유니버스 종목 수: 18
2025-11-05 16:10:30,801 - app.services.advanced_backtest - INFO - [2025-07-11] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,818 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,818 - app.services.advanced_backtest - INFO - [2025-07-11] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,818 - app.services.advanced_backtest - INFO - [2025-07-11] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,827 - app.services.advanced_backtest - INFO - [2025-07-14] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,827 - app.services.advanced_backtest - INFO - [2025-07-14] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,827 - app.services.advanced_backtest - INFO - [2025-07-14] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,828 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,828 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,828 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,828 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,828 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,828 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 14)}
2025-11-05 16:10:30,829 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,830 - app.services.advanced_backtest - INFO - [2025-07-14] 유니버스 종목 수: 18
2025-11-05 16:10:30,830 - app.services.advanced_backtest - INFO - [2025-07-14] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,846 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,847 - app.services.advanced_backtest - INFO - [2025-07-14] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,847 - app.services.advanced_backtest - INFO - [2025-07-14] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,856 - app.services.advanced_backtest - INFO - [2025-07-15] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,856 - app.services.advanced_backtest - INFO - [2025-07-15] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,856 - app.services.advanced_backtest - INFO - [2025-07-15] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,857 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,857 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,857 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,857 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,857 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,857 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 15)}
2025-11-05 16:10:30,858 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,859 - app.services.advanced_backtest - INFO - [2025-07-15] 유니버스 종목 수: 18
2025-11-05 16:10:30,859 - app.services.advanced_backtest - INFO - [2025-07-15] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,876 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,876 - app.services.advanced_backtest - INFO - [2025-07-15] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,876 - app.services.advanced_backtest - INFO - [2025-07-15] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,885 - app.services.advanced_backtest - INFO - [2025-07-16] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,885 - app.services.advanced_backtest - INFO - [2025-07-16] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,885 - app.services.advanced_backtest - INFO - [2025-07-16] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,886 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,886 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,886 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,886 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,886 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,886 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 16)}
2025-11-05 16:10:30,887 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,887 - app.services.advanced_backtest - INFO - [2025-07-16] 유니버스 종목 수: 18
2025-11-05 16:10:30,887 - app.services.advanced_backtest - INFO - [2025-07-16] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,904 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,904 - app.services.advanced_backtest - INFO - [2025-07-16] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,904 - app.services.advanced_backtest - INFO - [2025-07-16] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,914 - app.services.advanced_backtest - INFO - [2025-07-17] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,914 - app.services.advanced_backtest - INFO - [2025-07-17] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,914 - app.services.advanced_backtest - INFO - [2025-07-17] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,914 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,914 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,915 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,915 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,915 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,915 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 17)}
2025-11-05 16:10:30,916 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,916 - app.services.advanced_backtest - INFO - [2025-07-17] 유니버스 종목 수: 18
2025-11-05 16:10:30,916 - app.services.advanced_backtest - INFO - [2025-07-17] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,933 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,933 - app.services.advanced_backtest - INFO - [2025-07-17] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,933 - app.services.advanced_backtest - INFO - [2025-07-17] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,942 - app.services.advanced_backtest - INFO - [2025-07-18] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,942 - app.services.advanced_backtest - INFO - [2025-07-18] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,942 - app.services.advanced_backtest - INFO - [2025-07-18] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,943 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,943 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,943 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,943 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,943 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,943 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 18)}
2025-11-05 16:10:30,944 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,944 - app.services.advanced_backtest - INFO - [2025-07-18] 유니버스 종목 수: 18
2025-11-05 16:10:30,944 - app.services.advanced_backtest - INFO - [2025-07-18] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,961 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,961 - app.services.advanced_backtest - INFO - [2025-07-18] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,961 - app.services.advanced_backtest - INFO - [2025-07-18] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,971 - app.services.advanced_backtest - INFO - [2025-07-21] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,971 - app.services.advanced_backtest - INFO - [2025-07-21] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,971 - app.services.advanced_backtest - INFO - [2025-07-21] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:30,972 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:30,972 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:30,972 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:30,972 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:30,972 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:30,972 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 21)}
2025-11-05 16:10:30,973 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,973 - app.services.advanced_backtest - INFO - [2025-07-21] 유니버스 종목 수: 18
2025-11-05 16:10:30,973 - app.services.advanced_backtest - INFO - [2025-07-21] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:30,990 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:30,990 - app.services.advanced_backtest - INFO - [2025-07-21] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:30,990 - app.services.advanced_backtest - INFO - [2025-07-21] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:30,999 - app.services.advanced_backtest - INFO - [2025-07-22] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:30,999 - app.services.advanced_backtest - INFO - [2025-07-22] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:30,999 - app.services.advanced_backtest - INFO - [2025-07-22] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,000 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,000 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,000 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,000 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,000 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,000 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 22)}
2025-11-05 16:10:31,001 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,001 - app.services.advanced_backtest - INFO - [2025-07-22] 유니버스 종목 수: 18
2025-11-05 16:10:31,002 - app.services.advanced_backtest - INFO - [2025-07-22] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,025 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,025 - app.services.advanced_backtest - INFO - [2025-07-22] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,025 - app.services.advanced_backtest - INFO - [2025-07-22] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,034 - app.services.advanced_backtest - INFO - [2025-07-23] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,035 - app.services.advanced_backtest - INFO - [2025-07-23] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,035 - app.services.advanced_backtest - INFO - [2025-07-23] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,035 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,035 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,035 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,035 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,035 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,035 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 23)}
2025-11-05 16:10:31,037 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,037 - app.services.advanced_backtest - INFO - [2025-07-23] 유니버스 종목 수: 18
2025-11-05 16:10:31,037 - app.services.advanced_backtest - INFO - [2025-07-23] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,058 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,058 - app.services.advanced_backtest - INFO - [2025-07-23] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,058 - app.services.advanced_backtest - INFO - [2025-07-23] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,068 - app.services.advanced_backtest - INFO - [2025-07-24] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,068 - app.services.advanced_backtest - INFO - [2025-07-24] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,068 - app.services.advanced_backtest - INFO - [2025-07-24] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,069 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,069 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,069 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,069 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,069 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,069 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 24)}
2025-11-05 16:10:31,070 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,070 - app.services.advanced_backtest - INFO - [2025-07-24] 유니버스 종목 수: 18
2025-11-05 16:10:31,070 - app.services.advanced_backtest - INFO - [2025-07-24] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,098 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,098 - app.services.advanced_backtest - INFO - [2025-07-24] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,098 - app.services.advanced_backtest - INFO - [2025-07-24] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,111 - app.services.advanced_backtest - INFO - [2025-07-25] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,111 - app.services.advanced_backtest - INFO - [2025-07-25] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,111 - app.services.advanced_backtest - INFO - [2025-07-25] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,111 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,111 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,112 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,112 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,112 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,112 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 25)}
2025-11-05 16:10:31,113 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,113 - app.services.advanced_backtest - INFO - [2025-07-25] 유니버스 종목 수: 18
2025-11-05 16:10:31,113 - app.services.advanced_backtest - INFO - [2025-07-25] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,138 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,138 - app.services.advanced_backtest - INFO - [2025-07-25] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,138 - app.services.advanced_backtest - INFO - [2025-07-25] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,148 - app.services.advanced_backtest - INFO - [2025-07-28] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,148 - app.services.advanced_backtest - INFO - [2025-07-28] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,148 - app.services.advanced_backtest - INFO - [2025-07-28] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,149 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,149 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/status
2025-11-05 16:10:31,149 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,150 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,150 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,150 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,150 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 28)}
2025-11-05 16:10:31,152 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,152 - app.services.advanced_backtest - INFO - [2025-07-28] 유니버스 종목 수: 18
2025-11-05 16:10:31,152 - app.services.advanced_backtest - INFO - [2025-07-28] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,178 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/status - 200 (28.86ms)
2025-11-05 16:10:31,187 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,187 - app.services.advanced_backtest - INFO - [2025-07-28] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,187 - app.services.advanced_backtest - INFO - [2025-07-28] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,196 - app.services.advanced_backtest - INFO - [2025-07-29] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,196 - app.services.advanced_backtest - INFO - [2025-07-29] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,196 - app.services.advanced_backtest - INFO - [2025-07-29] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,197 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,197 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,197 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,197 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,197 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,197 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 29)}
2025-11-05 16:10:31,198 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,199 - app.services.advanced_backtest - INFO - [2025-07-29] 유니버스 종목 수: 18
2025-11-05 16:10:31,199 - app.services.advanced_backtest - INFO - [2025-07-29] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,216 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,216 - app.services.advanced_backtest - INFO - [2025-07-29] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,216 - app.services.advanced_backtest - INFO - [2025-07-29] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,225 - app.services.advanced_backtest - INFO - [2025-07-30] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,225 - app.services.advanced_backtest - INFO - [2025-07-30] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,225 - app.services.advanced_backtest - INFO - [2025-07-30] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,225 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,225 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,225 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,225 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,225 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,226 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 30)}
2025-11-05 16:10:31,227 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,227 - app.services.advanced_backtest - INFO - [2025-07-30] 유니버스 종목 수: 18
2025-11-05 16:10:31,227 - app.services.advanced_backtest - INFO - [2025-07-30] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,243 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,244 - app.services.advanced_backtest - INFO - [2025-07-30] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,244 - app.services.advanced_backtest - INFO - [2025-07-30] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,252 - app.services.advanced_backtest - INFO - [2025-07-31] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,252 - app.services.advanced_backtest - INFO - [2025-07-31] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,252 - app.services.advanced_backtest - INFO - [2025-07-31] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,253 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,253 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,253 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,253 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,253 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,253 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 7, 31)}
2025-11-05 16:10:31,254 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,255 - app.services.advanced_backtest - INFO - [2025-07-31] 유니버스 종목 수: 18
2025-11-05 16:10:31,255 - app.services.advanced_backtest - INFO - [2025-07-31] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,270 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,270 - app.services.advanced_backtest - INFO - [2025-07-31] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,270 - app.services.advanced_backtest - INFO - [2025-07-31] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,279 - app.services.advanced_backtest - INFO - [2025-08-01] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,279 - app.services.advanced_backtest - INFO - [2025-08-01] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,279 - app.services.advanced_backtest - INFO - [2025-08-01] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,280 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,280 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,280 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,280 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,280 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,280 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 1)}
2025-11-05 16:10:31,281 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,281 - app.services.advanced_backtest - INFO - [2025-08-01] 유니버스 종목 수: 18
2025-11-05 16:10:31,281 - app.services.advanced_backtest - INFO - [2025-08-01] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,298 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,298 - app.services.advanced_backtest - INFO - [2025-08-01] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,298 - app.services.advanced_backtest - INFO - [2025-08-01] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,306 - app.services.advanced_backtest - INFO - [2025-08-04] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,306 - app.services.advanced_backtest - INFO - [2025-08-04] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,306 - app.services.advanced_backtest - INFO - [2025-08-04] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,306 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,307 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,307 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,307 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,307 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,307 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 4)}
2025-11-05 16:10:31,308 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,308 - app.services.advanced_backtest - INFO - [2025-08-04] 유니버스 종목 수: 18
2025-11-05 16:10:31,308 - app.services.advanced_backtest - INFO - [2025-08-04] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,324 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,324 - app.services.advanced_backtest - INFO - [2025-08-04] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,324 - app.services.advanced_backtest - INFO - [2025-08-04] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,333 - app.services.advanced_backtest - INFO - [2025-08-05] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,333 - app.services.advanced_backtest - INFO - [2025-08-05] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,333 - app.services.advanced_backtest - INFO - [2025-08-05] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,334 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,334 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,334 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,334 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,334 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,334 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 5)}
2025-11-05 16:10:31,335 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,335 - app.services.advanced_backtest - INFO - [2025-08-05] 유니버스 종목 수: 18
2025-11-05 16:10:31,335 - app.services.advanced_backtest - INFO - [2025-08-05] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,351 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,352 - app.services.advanced_backtest - INFO - [2025-08-05] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,352 - app.services.advanced_backtest - INFO - [2025-08-05] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,361 - app.services.advanced_backtest - INFO - [2025-08-06] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,361 - app.services.advanced_backtest - INFO - [2025-08-06] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,361 - app.services.advanced_backtest - INFO - [2025-08-06] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,363 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,363 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,363 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,363 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,363 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,363 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 6)}
2025-11-05 16:10:31,365 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,365 - app.services.advanced_backtest - INFO - [2025-08-06] 유니버스 종목 수: 18
2025-11-05 16:10:31,365 - app.services.advanced_backtest - INFO - [2025-08-06] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,385 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,386 - app.services.advanced_backtest - INFO - [2025-08-06] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,386 - app.services.advanced_backtest - INFO - [2025-08-06] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,398 - app.services.advanced_backtest - INFO - [2025-08-07] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,398 - app.services.advanced_backtest - INFO - [2025-08-07] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,398 - app.services.advanced_backtest - INFO - [2025-08-07] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,398 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,398 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,398 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,398 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,398 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,399 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 7)}
2025-11-05 16:10:31,400 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,400 - app.services.advanced_backtest - INFO - [2025-08-07] 유니버스 종목 수: 18
2025-11-05 16:10:31,400 - app.services.advanced_backtest - INFO - [2025-08-07] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,423 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,424 - app.services.advanced_backtest - INFO - [2025-08-07] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,424 - app.services.advanced_backtest - INFO - [2025-08-07] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,438 - app.services.advanced_backtest - INFO - [2025-08-08] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,438 - app.services.advanced_backtest - INFO - [2025-08-08] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,438 - app.services.advanced_backtest - INFO - [2025-08-08] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,439 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,439 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,439 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,439 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,439 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,439 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 8)}
2025-11-05 16:10:31,440 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,440 - app.services.advanced_backtest - INFO - [2025-08-08] 유니버스 종목 수: 18
2025-11-05 16:10:31,440 - app.services.advanced_backtest - INFO - [2025-08-08] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,464 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,465 - app.services.advanced_backtest - INFO - [2025-08-08] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,465 - app.services.advanced_backtest - INFO - [2025-08-08] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,474 - app.services.advanced_backtest - INFO - [2025-08-11] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,474 - app.services.advanced_backtest - INFO - [2025-08-11] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,475 - app.services.advanced_backtest - INFO - [2025-08-11] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,475 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,475 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,475 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,475 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,475 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,475 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 11)}
2025-11-05 16:10:31,476 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,477 - app.services.advanced_backtest - INFO - [2025-08-11] 유니버스 종목 수: 18
2025-11-05 16:10:31,477 - app.services.advanced_backtest - INFO - [2025-08-11] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,500 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,501 - app.services.advanced_backtest - INFO - [2025-08-11] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,501 - app.services.advanced_backtest - INFO - [2025-08-11] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,509 - app.services.advanced_backtest - INFO - [2025-08-12] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,510 - app.services.advanced_backtest - INFO - [2025-08-12] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,510 - app.services.advanced_backtest - INFO - [2025-08-12] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,510 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,510 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,510 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,510 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,510 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,510 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 12)}
2025-11-05 16:10:31,513 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,513 - app.services.advanced_backtest - INFO - [2025-08-12] 유니버스 종목 수: 18
2025-11-05 16:10:31,513 - app.services.advanced_backtest - INFO - [2025-08-12] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,541 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,542 - app.services.advanced_backtest - INFO - [2025-08-12] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,542 - app.services.advanced_backtest - INFO - [2025-08-12] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,551 - app.services.advanced_backtest - INFO - [2025-08-13] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,551 - app.services.advanced_backtest - INFO - [2025-08-13] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,551 - app.services.advanced_backtest - INFO - [2025-08-13] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,551 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,552 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,552 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,553 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,554 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,554 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 13)}
2025-11-05 16:10:31,555 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,555 - app.services.advanced_backtest - INFO - [2025-08-13] 유니버스 종목 수: 18
2025-11-05 16:10:31,555 - app.services.advanced_backtest - INFO - [2025-08-13] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,577 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,577 - app.services.advanced_backtest - INFO - [2025-08-13] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,577 - app.services.advanced_backtest - INFO - [2025-08-13] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,590 - app.services.advanced_backtest - INFO - [2025-08-14] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,590 - app.services.advanced_backtest - INFO - [2025-08-14] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,590 - app.services.advanced_backtest - INFO - [2025-08-14] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,590 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,590 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,590 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,590 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,590 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,590 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 14)}
2025-11-05 16:10:31,592 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,592 - app.services.advanced_backtest - INFO - [2025-08-14] 유니버스 종목 수: 18
2025-11-05 16:10:31,592 - app.services.advanced_backtest - INFO - [2025-08-14] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,617 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,617 - app.services.advanced_backtest - INFO - [2025-08-14] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,617 - app.services.advanced_backtest - INFO - [2025-08-14] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,625 - app.services.advanced_backtest - INFO - [2025-08-18] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,625 - app.services.advanced_backtest - INFO - [2025-08-18] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,625 - app.services.advanced_backtest - INFO - [2025-08-18] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,626 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,626 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,626 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,626 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,626 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,626 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 18)}
2025-11-05 16:10:31,627 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,627 - app.services.advanced_backtest - INFO - [2025-08-18] 유니버스 종목 수: 18
2025-11-05 16:10:31,627 - app.services.advanced_backtest - INFO - [2025-08-18] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,655 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,655 - app.services.advanced_backtest - INFO - [2025-08-18] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,655 - app.services.advanced_backtest - INFO - [2025-08-18] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,664 - app.services.advanced_backtest - INFO - [2025-08-19] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,664 - app.services.advanced_backtest - INFO - [2025-08-19] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,664 - app.services.advanced_backtest - INFO - [2025-08-19] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,664 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,664 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,664 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,664 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,664 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,664 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 19)}
2025-11-05 16:10:31,666 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,666 - app.services.advanced_backtest - INFO - [2025-08-19] 유니버스 종목 수: 18
2025-11-05 16:10:31,666 - app.services.advanced_backtest - INFO - [2025-08-19] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,691 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,691 - app.services.advanced_backtest - INFO - [2025-08-19] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,691 - app.services.advanced_backtest - INFO - [2025-08-19] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,699 - app.services.advanced_backtest - INFO - [2025-08-20] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,699 - app.services.advanced_backtest - INFO - [2025-08-20] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,699 - app.services.advanced_backtest - INFO - [2025-08-20] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,700 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,700 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,700 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,700 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,700 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,700 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 20)}
2025-11-05 16:10:31,701 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,701 - app.services.advanced_backtest - INFO - [2025-08-20] 유니버스 종목 수: 18
2025-11-05 16:10:31,701 - app.services.advanced_backtest - INFO - [2025-08-20] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,726 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,727 - app.services.advanced_backtest - INFO - [2025-08-20] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,727 - app.services.advanced_backtest - INFO - [2025-08-20] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,738 - app.services.advanced_backtest - INFO - [2025-08-21] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,738 - app.services.advanced_backtest - INFO - [2025-08-21] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,738 - app.services.advanced_backtest - INFO - [2025-08-21] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,739 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,739 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,739 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,739 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,739 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,739 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 21)}
2025-11-05 16:10:31,740 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,740 - app.services.advanced_backtest - INFO - [2025-08-21] 유니버스 종목 수: 18
2025-11-05 16:10:31,740 - app.services.advanced_backtest - INFO - [2025-08-21] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,762 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,762 - app.services.advanced_backtest - INFO - [2025-08-21] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,762 - app.services.advanced_backtest - INFO - [2025-08-21] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,775 - app.services.advanced_backtest - INFO - [2025-08-22] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,775 - app.services.advanced_backtest - INFO - [2025-08-22] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,776 - app.services.advanced_backtest - INFO - [2025-08-22] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,776 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,776 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,776 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,777 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,777 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,777 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 22)}
2025-11-05 16:10:31,778 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,778 - app.services.advanced_backtest - INFO - [2025-08-22] 유니버스 종목 수: 18
2025-11-05 16:10:31,778 - app.services.advanced_backtest - INFO - [2025-08-22] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,797 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,797 - app.services.advanced_backtest - INFO - [2025-08-22] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,798 - app.services.advanced_backtest - INFO - [2025-08-22] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,809 - app.services.advanced_backtest - INFO - [2025-08-25] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,809 - app.services.advanced_backtest - INFO - [2025-08-25] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,809 - app.services.advanced_backtest - INFO - [2025-08-25] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,810 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,810 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,810 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,810 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,810 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,810 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 25)}
2025-11-05 16:10:31,811 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,811 - app.services.advanced_backtest - INFO - [2025-08-25] 유니버스 종목 수: 18
2025-11-05 16:10:31,811 - app.services.advanced_backtest - INFO - [2025-08-25] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,832 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,832 - app.services.advanced_backtest - INFO - [2025-08-25] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,832 - app.services.advanced_backtest - INFO - [2025-08-25] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,842 - app.services.advanced_backtest - INFO - [2025-08-26] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,842 - app.services.advanced_backtest - INFO - [2025-08-26] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,843 - app.services.advanced_backtest - INFO - [2025-08-26] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,844 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,844 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,844 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,844 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,844 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,844 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 26)}
2025-11-05 16:10:31,845 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,845 - app.services.advanced_backtest - INFO - [2025-08-26] 유니버스 종목 수: 18
2025-11-05 16:10:31,845 - app.services.advanced_backtest - INFO - [2025-08-26] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,872 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,873 - app.services.advanced_backtest - INFO - [2025-08-26] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,873 - app.services.advanced_backtest - INFO - [2025-08-26] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,885 - app.services.advanced_backtest - INFO - [2025-08-27] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,885 - app.services.advanced_backtest - INFO - [2025-08-27] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,885 - app.services.advanced_backtest - INFO - [2025-08-27] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,885 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,885 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,885 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,885 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,885 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,885 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 27)}
2025-11-05 16:10:31,887 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,888 - app.services.advanced_backtest - INFO - [2025-08-27] 유니버스 종목 수: 18
2025-11-05 16:10:31,888 - app.services.advanced_backtest - INFO - [2025-08-27] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,918 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,922 - app.services.advanced_backtest - INFO - [2025-08-27] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,922 - app.services.advanced_backtest - INFO - [2025-08-27] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,938 - app.services.advanced_backtest - INFO - [2025-08-28] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:31,939 - app.services.advanced_backtest - INFO - [2025-08-28] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:31,939 - app.services.advanced_backtest - INFO - [2025-08-28] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:31,939 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:31,940 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:31,940 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:31,940 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:31,940 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:31,940 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 28)}
2025-11-05 16:10:31,941 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,941 - app.services.advanced_backtest - INFO - [2025-08-28] 유니버스 종목 수: 18
2025-11-05 16:10:31,941 - app.services.advanced_backtest - INFO - [2025-08-28] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:31,988 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:31,989 - app.services.advanced_backtest - INFO - [2025-08-28] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:31,989 - app.services.advanced_backtest - INFO - [2025-08-28] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:31,991 - app.services.advanced_backtest - INFO - [2025-08-28] 매수: 001510 1주 @ 650.00원 (총비용 650.10원, 수수료 0.10원)
2025-11-05 16:10:32,011 - app.services.advanced_backtest - INFO - [2025-08-29] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,011 - app.services.advanced_backtest - INFO - [2025-08-29] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,011 - app.services.advanced_backtest - INFO - [2025-08-29] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,012 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,012 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,012 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,012 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,012 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,012 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 8, 29)}
2025-11-05 16:10:32,013 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,013 - app.services.advanced_backtest - INFO - [2025-08-29] 유니버스 종목 수: 18
2025-11-05 16:10:32,013 - app.services.advanced_backtest - INFO - [2025-08-29] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,038 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,038 - app.services.advanced_backtest - INFO - [2025-08-29] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,038 - app.services.advanced_backtest - INFO - [2025-08-29] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,051 - app.services.advanced_backtest - INFO - [2025-09-01] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,051 - app.services.advanced_backtest - INFO - [2025-09-01] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,051 - app.services.advanced_backtest - INFO - [2025-09-01] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,052 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,052 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,052 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,052 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,052 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,052 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 1)}
2025-11-05 16:10:32,053 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,053 - app.services.advanced_backtest - INFO - [2025-09-01] 유니버스 종목 수: 18
2025-11-05 16:10:32,053 - app.services.advanced_backtest - INFO - [2025-09-01] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,078 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,078 - app.services.advanced_backtest - INFO - [2025-09-01] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,078 - app.services.advanced_backtest - INFO - [2025-09-01] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,079 - app.services.advanced_backtest - INFO - 진행 상황: 200/240 일 완료
2025-11-05 16:10:32,090 - app.services.advanced_backtest - INFO - [2025-09-02] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,090 - app.services.advanced_backtest - INFO - [2025-09-02] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,090 - app.services.advanced_backtest - INFO - [2025-09-02] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,091 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,091 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,091 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,091 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,091 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,091 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 2)}
2025-11-05 16:10:32,092 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,092 - app.services.advanced_backtest - INFO - [2025-09-02] 유니버스 종목 수: 18
2025-11-05 16:10:32,092 - app.services.advanced_backtest - INFO - [2025-09-02] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,115 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,116 - app.services.advanced_backtest - INFO - [2025-09-02] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,116 - app.services.advanced_backtest - INFO - [2025-09-02] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,124 - app.services.advanced_backtest - INFO - [2025-09-03] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,124 - app.services.advanced_backtest - INFO - [2025-09-03] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,124 - app.services.advanced_backtest - INFO - [2025-09-03] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,124 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,124 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,124 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,124 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,124 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,125 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 3)}
2025-11-05 16:10:32,126 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,126 - app.services.advanced_backtest - INFO - [2025-09-03] 유니버스 종목 수: 18
2025-11-05 16:10:32,126 - app.services.advanced_backtest - INFO - [2025-09-03] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,148 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,148 - app.services.advanced_backtest - INFO - [2025-09-03] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,148 - app.services.advanced_backtest - INFO - [2025-09-03] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,158 - app.services.advanced_backtest - INFO - [2025-09-04] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,158 - app.services.advanced_backtest - INFO - [2025-09-04] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,158 - app.services.advanced_backtest - INFO - [2025-09-04] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,159 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,159 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,159 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,159 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,160 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,160 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 4)}
2025-11-05 16:10:32,161 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,163 - app.services.advanced_backtest - INFO - [2025-09-04] 유니버스 종목 수: 18
2025-11-05 16:10:32,163 - app.services.advanced_backtest - INFO - [2025-09-04] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,185 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,187 - app.services.advanced_backtest - INFO - [2025-09-04] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,187 - app.services.advanced_backtest - INFO - [2025-09-04] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,196 - app.services.advanced_backtest - INFO - [2025-09-05] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,196 - app.services.advanced_backtest - INFO - [2025-09-05] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,196 - app.services.advanced_backtest - INFO - [2025-09-05] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,196 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,196 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,196 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,196 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,197 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,197 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 5)}
2025-11-05 16:10:32,198 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,198 - app.services.advanced_backtest - INFO - [2025-09-05] 유니버스 종목 수: 18
2025-11-05 16:10:32,198 - app.services.advanced_backtest - INFO - [2025-09-05] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,226 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,227 - app.services.advanced_backtest - INFO - [2025-09-05] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,227 - app.services.advanced_backtest - INFO - [2025-09-05] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,236 - app.services.advanced_backtest - INFO - [2025-09-08] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,236 - app.services.advanced_backtest - INFO - [2025-09-08] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,236 - app.services.advanced_backtest - INFO - [2025-09-08] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,237 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,237 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,237 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,237 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,237 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,237 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 8)}
2025-11-05 16:10:32,240 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,240 - app.services.advanced_backtest - INFO - [2025-09-08] 유니버스 종목 수: 18
2025-11-05 16:10:32,240 - app.services.advanced_backtest - INFO - [2025-09-08] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,265 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,265 - app.services.advanced_backtest - INFO - [2025-09-08] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,265 - app.services.advanced_backtest - INFO - [2025-09-08] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,274 - app.services.advanced_backtest - INFO - [2025-09-09] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,274 - app.services.advanced_backtest - INFO - [2025-09-09] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,274 - app.services.advanced_backtest - INFO - [2025-09-09] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,274 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,274 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,274 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,274 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,274 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,274 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 9)}
2025-11-05 16:10:32,276 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,276 - app.services.advanced_backtest - INFO - [2025-09-09] 유니버스 종목 수: 18
2025-11-05 16:10:32,276 - app.services.advanced_backtest - INFO - [2025-09-09] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,303 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,303 - app.services.advanced_backtest - INFO - [2025-09-09] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,303 - app.services.advanced_backtest - INFO - [2025-09-09] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,316 - app.services.advanced_backtest - INFO - [2025-09-10] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,316 - app.services.advanced_backtest - INFO - [2025-09-10] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,316 - app.services.advanced_backtest - INFO - [2025-09-10] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,316 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,316 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,316 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,316 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,316 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,316 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 10)}
2025-11-05 16:10:32,318 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,318 - app.services.advanced_backtest - INFO - [2025-09-10] 유니버스 종목 수: 18
2025-11-05 16:10:32,318 - app.services.advanced_backtest - INFO - [2025-09-10] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,343 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,343 - app.services.advanced_backtest - INFO - [2025-09-10] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,343 - app.services.advanced_backtest - INFO - [2025-09-10] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,355 - app.services.advanced_backtest - INFO - [2025-09-11] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,355 - app.services.advanced_backtest - INFO - [2025-09-11] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,355 - app.services.advanced_backtest - INFO - [2025-09-11] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,355 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,355 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,355 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,355 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,355 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,355 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 11)}
2025-11-05 16:10:32,357 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,357 - app.services.advanced_backtest - INFO - [2025-09-11] 유니버스 종목 수: 18
2025-11-05 16:10:32,357 - app.services.advanced_backtest - INFO - [2025-09-11] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,381 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,381 - app.services.advanced_backtest - INFO - [2025-09-11] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,381 - app.services.advanced_backtest - INFO - [2025-09-11] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,398 - app.services.advanced_backtest - INFO - [2025-09-12] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,398 - app.services.advanced_backtest - INFO - [2025-09-12] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,398 - app.services.advanced_backtest - INFO - [2025-09-12] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,399 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,399 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,399 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,399 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,399 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,399 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 12)}
2025-11-05 16:10:32,400 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,400 - app.services.advanced_backtest - INFO - [2025-09-12] 유니버스 종목 수: 18
2025-11-05 16:10:32,400 - app.services.advanced_backtest - INFO - [2025-09-12] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,424 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,424 - app.services.advanced_backtest - INFO - [2025-09-12] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,424 - app.services.advanced_backtest - INFO - [2025-09-12] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,436 - app.services.advanced_backtest - INFO - [2025-09-15] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,436 - app.services.advanced_backtest - INFO - [2025-09-15] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,436 - app.services.advanced_backtest - INFO - [2025-09-15] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,437 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,437 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,437 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,437 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,437 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,437 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 15)}
2025-11-05 16:10:32,438 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,438 - app.services.advanced_backtest - INFO - [2025-09-15] 유니버스 종목 수: 18
2025-11-05 16:10:32,438 - app.services.advanced_backtest - INFO - [2025-09-15] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,464 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,464 - app.services.advanced_backtest - INFO - [2025-09-15] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,464 - app.services.advanced_backtest - INFO - [2025-09-15] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,476 - app.services.advanced_backtest - INFO - [2025-09-16] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,476 - app.services.advanced_backtest - INFO - [2025-09-16] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,476 - app.services.advanced_backtest - INFO - [2025-09-16] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,477 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,477 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,477 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,477 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,477 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,477 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 16)}
2025-11-05 16:10:32,478 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,478 - app.services.advanced_backtest - INFO - [2025-09-16] 유니버스 종목 수: 18
2025-11-05 16:10:32,478 - app.services.advanced_backtest - INFO - [2025-09-16] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,498 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,498 - app.services.advanced_backtest - INFO - [2025-09-16] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,498 - app.services.advanced_backtest - INFO - [2025-09-16] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,511 - app.services.advanced_backtest - INFO - [2025-09-17] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,513 - app.services.advanced_backtest - INFO - [2025-09-17] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,513 - app.services.advanced_backtest - INFO - [2025-09-17] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,514 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,514 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,514 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,514 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,514 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,514 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 17)}
2025-11-05 16:10:32,515 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,516 - app.services.advanced_backtest - INFO - [2025-09-17] 유니버스 종목 수: 18
2025-11-05 16:10:32,516 - app.services.advanced_backtest - INFO - [2025-09-17] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,541 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,541 - app.services.advanced_backtest - INFO - [2025-09-17] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,541 - app.services.advanced_backtest - INFO - [2025-09-17] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,550 - app.services.advanced_backtest - INFO - [2025-09-18] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,550 - app.services.advanced_backtest - INFO - [2025-09-18] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,550 - app.services.advanced_backtest - INFO - [2025-09-18] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,551 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,551 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,551 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,551 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,551 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,551 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 18)}
2025-11-05 16:10:32,552 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,553 - app.services.advanced_backtest - INFO - [2025-09-18] 유니버스 종목 수: 18
2025-11-05 16:10:32,553 - app.services.advanced_backtest - INFO - [2025-09-18] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,572 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,572 - app.services.advanced_backtest - INFO - [2025-09-18] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,576 - app.services.advanced_backtest - INFO - [2025-09-18] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,586 - app.services.advanced_backtest - INFO - [2025-09-19] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,586 - app.services.advanced_backtest - INFO - [2025-09-19] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,586 - app.services.advanced_backtest - INFO - [2025-09-19] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,586 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,586 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,586 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,586 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,586 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,586 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 19)}
2025-11-05 16:10:32,588 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,588 - app.services.advanced_backtest - INFO - [2025-09-19] 유니버스 종목 수: 18
2025-11-05 16:10:32,588 - app.services.advanced_backtest - INFO - [2025-09-19] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,605 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,605 - app.services.advanced_backtest - INFO - [2025-09-19] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,605 - app.services.advanced_backtest - INFO - [2025-09-19] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,615 - app.services.advanced_backtest - INFO - [2025-09-22] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,615 - app.services.advanced_backtest - INFO - [2025-09-22] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,615 - app.services.advanced_backtest - INFO - [2025-09-22] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,616 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,616 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,616 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,616 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,616 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,616 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 22)}
2025-11-05 16:10:32,617 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,617 - app.services.advanced_backtest - INFO - [2025-09-22] 유니버스 종목 수: 18
2025-11-05 16:10:32,617 - app.services.advanced_backtest - INFO - [2025-09-22] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,637 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,638 - app.services.advanced_backtest - INFO - [2025-09-22] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,638 - app.services.advanced_backtest - INFO - [2025-09-22] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,651 - app.services.advanced_backtest - INFO - [2025-09-23] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,651 - app.services.advanced_backtest - INFO - [2025-09-23] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,651 - app.services.advanced_backtest - INFO - [2025-09-23] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,654 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,654 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,654 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,654 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,654 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,654 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 23)}
2025-11-05 16:10:32,656 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,656 - app.services.advanced_backtest - INFO - [2025-09-23] 유니버스 종목 수: 18
2025-11-05 16:10:32,656 - app.services.advanced_backtest - INFO - [2025-09-23] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,684 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,684 - app.services.advanced_backtest - INFO - [2025-09-23] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,685 - app.services.advanced_backtest - INFO - [2025-09-23] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,694 - app.services.advanced_backtest - INFO - [2025-09-24] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,694 - app.services.advanced_backtest - INFO - [2025-09-24] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,694 - app.services.advanced_backtest - INFO - [2025-09-24] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,694 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,694 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,694 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,694 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,694 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,694 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 24)}
2025-11-05 16:10:32,695 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,696 - app.services.advanced_backtest - INFO - [2025-09-24] 유니버스 종목 수: 18
2025-11-05 16:10:32,696 - app.services.advanced_backtest - INFO - [2025-09-24] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,721 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,721 - app.services.advanced_backtest - INFO - [2025-09-24] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,721 - app.services.advanced_backtest - INFO - [2025-09-24] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,730 - app.services.advanced_backtest - INFO - [2025-09-25] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,730 - app.services.advanced_backtest - INFO - [2025-09-25] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,730 - app.services.advanced_backtest - INFO - [2025-09-25] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,731 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,731 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,731 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,731 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,731 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,731 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 25)}
2025-11-05 16:10:32,732 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,732 - app.services.advanced_backtest - INFO - [2025-09-25] 유니버스 종목 수: 18
2025-11-05 16:10:32,732 - app.services.advanced_backtest - INFO - [2025-09-25] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,756 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,756 - app.services.advanced_backtest - INFO - [2025-09-25] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,756 - app.services.advanced_backtest - INFO - [2025-09-25] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,765 - app.services.advanced_backtest - INFO - [2025-09-26] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,765 - app.services.advanced_backtest - INFO - [2025-09-26] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,765 - app.services.advanced_backtest - INFO - [2025-09-26] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,765 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,765 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,766 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,766 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,766 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,766 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 26)}
2025-11-05 16:10:32,767 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,767 - app.services.advanced_backtest - INFO - [2025-09-26] 유니버스 종목 수: 18
2025-11-05 16:10:32,767 - app.services.advanced_backtest - INFO - [2025-09-26] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,789 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,789 - app.services.advanced_backtest - INFO - [2025-09-26] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,790 - app.services.advanced_backtest - INFO - [2025-09-26] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,805 - app.services.advanced_backtest - INFO - [2025-09-29] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,805 - app.services.advanced_backtest - INFO - [2025-09-29] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,805 - app.services.advanced_backtest - INFO - [2025-09-29] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,806 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,806 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,806 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,806 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,806 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,806 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 29)}
2025-11-05 16:10:32,807 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,807 - app.services.advanced_backtest - INFO - [2025-09-29] 유니버스 종목 수: 18
2025-11-05 16:10:32,807 - app.services.advanced_backtest - INFO - [2025-09-29] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,831 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,832 - app.services.advanced_backtest - INFO - [2025-09-29] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,832 - app.services.advanced_backtest - INFO - [2025-09-29] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,841 - app.services.advanced_backtest - INFO - [2025-09-30] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,841 - app.services.advanced_backtest - INFO - [2025-09-30] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,841 - app.services.advanced_backtest - INFO - [2025-09-30] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,842 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,842 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,842 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,842 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,842 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,842 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 9, 30)}
2025-11-05 16:10:32,843 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,844 - app.services.advanced_backtest - INFO - [2025-09-30] 유니버스 종목 수: 18
2025-11-05 16:10:32,844 - app.services.advanced_backtest - INFO - [2025-09-30] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,867 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,868 - app.services.advanced_backtest - INFO - [2025-09-30] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,868 - app.services.advanced_backtest - INFO - [2025-09-30] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,880 - app.services.advanced_backtest - INFO - [2025-10-01] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,880 - app.services.advanced_backtest - INFO - [2025-10-01] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,880 - app.services.advanced_backtest - INFO - [2025-10-01] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,881 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,881 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,881 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,881 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,881 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,881 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 1)}
2025-11-05 16:10:32,882 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,882 - app.services.advanced_backtest - INFO - [2025-10-01] 유니버스 종목 수: 18
2025-11-05 16:10:32,883 - app.services.advanced_backtest - INFO - [2025-10-01] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,908 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,908 - app.services.advanced_backtest - INFO - [2025-10-01] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,908 - app.services.advanced_backtest - INFO - [2025-10-01] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,916 - app.services.advanced_backtest - INFO - [2025-10-02] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,916 - app.services.advanced_backtest - INFO - [2025-10-02] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,916 - app.services.advanced_backtest - INFO - [2025-10-02] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,917 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,917 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,917 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,917 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,917 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,917 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 2)}
2025-11-05 16:10:32,918 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,918 - app.services.advanced_backtest - INFO - [2025-10-02] 유니버스 종목 수: 18
2025-11-05 16:10:32,918 - app.services.advanced_backtest - INFO - [2025-10-02] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,942 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,942 - app.services.advanced_backtest - INFO - [2025-10-02] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,942 - app.services.advanced_backtest - INFO - [2025-10-02] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,956 - app.services.advanced_backtest - INFO - [2025-10-10] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,956 - app.services.advanced_backtest - INFO - [2025-10-10] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,956 - app.services.advanced_backtest - INFO - [2025-10-10] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,957 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,957 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,957 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,957 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,958 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,958 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 10)}
2025-11-05 16:10:32,959 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,959 - app.services.advanced_backtest - INFO - [2025-10-10] 유니버스 종목 수: 18
2025-11-05 16:10:32,960 - app.services.advanced_backtest - INFO - [2025-10-10] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:32,986 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,986 - app.services.advanced_backtest - INFO - [2025-10-10] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:32,986 - app.services.advanced_backtest - INFO - [2025-10-10] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:32,995 - app.services.advanced_backtest - INFO - [2025-10-13] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:32,995 - app.services.advanced_backtest - INFO - [2025-10-13] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:32,995 - app.services.advanced_backtest - INFO - [2025-10-13] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:32,995 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:32,995 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:32,995 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:32,995 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:32,995 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:32,995 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 13)}
2025-11-05 16:10:32,997 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:32,997 - app.services.advanced_backtest - INFO - [2025-10-13] 유니버스 종목 수: 18
2025-11-05 16:10:32,997 - app.services.advanced_backtest - INFO - [2025-10-13] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,025 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,025 - app.services.advanced_backtest - INFO - [2025-10-13] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,025 - app.services.advanced_backtest - INFO - [2025-10-13] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,034 - app.services.advanced_backtest - INFO - [2025-10-14] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,034 - app.services.advanced_backtest - INFO - [2025-10-14] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,034 - app.services.advanced_backtest - INFO - [2025-10-14] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,034 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,034 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,034 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,034 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,035 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,035 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 14)}
2025-11-05 16:10:33,038 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,038 - app.services.advanced_backtest - INFO - [2025-10-14] 유니버스 종목 수: 18
2025-11-05 16:10:33,038 - app.services.advanced_backtest - INFO - [2025-10-14] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,058 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,058 - app.services.advanced_backtest - INFO - [2025-10-14] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,058 - app.services.advanced_backtest - INFO - [2025-10-14] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,065 - app.services.advanced_backtest - INFO - [2025-10-15] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,065 - app.services.advanced_backtest - INFO - [2025-10-15] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,065 - app.services.advanced_backtest - INFO - [2025-10-15] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,066 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,066 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,066 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,066 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,066 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,066 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 15)}
2025-11-05 16:10:33,067 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,067 - app.services.advanced_backtest - INFO - [2025-10-15] 유니버스 종목 수: 18
2025-11-05 16:10:33,067 - app.services.advanced_backtest - INFO - [2025-10-15] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,091 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,091 - app.services.advanced_backtest - INFO - [2025-10-15] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,091 - app.services.advanced_backtest - INFO - [2025-10-15] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,100 - app.services.advanced_backtest - INFO - [2025-10-16] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,100 - app.services.advanced_backtest - INFO - [2025-10-16] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,100 - app.services.advanced_backtest - INFO - [2025-10-16] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,101 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,101 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,101 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,101 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,101 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,101 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 16)}
2025-11-05 16:10:33,102 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,102 - app.services.advanced_backtest - INFO - [2025-10-16] 유니버스 종목 수: 18
2025-11-05 16:10:33,102 - app.services.advanced_backtest - INFO - [2025-10-16] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,125 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,125 - app.services.advanced_backtest - INFO - [2025-10-16] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,125 - app.services.advanced_backtest - INFO - [2025-10-16] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,137 - app.services.advanced_backtest - INFO - [2025-10-17] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,137 - app.services.advanced_backtest - INFO - [2025-10-17] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,137 - app.services.advanced_backtest - INFO - [2025-10-17] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,138 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,138 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,138 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,138 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,138 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,138 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 17)}
2025-11-05 16:10:33,139 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,139 - app.services.advanced_backtest - INFO - [2025-10-17] 유니버스 종목 수: 18
2025-11-05 16:10:33,139 - app.services.advanced_backtest - INFO - [2025-10-17] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,159 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,159 - app.services.advanced_backtest - INFO - [2025-10-17] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,160 - app.services.advanced_backtest - INFO - [2025-10-17] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,173 - app.services.advanced_backtest - INFO - [2025-10-20] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,173 - app.services.advanced_backtest - INFO - [2025-10-20] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,173 - app.services.advanced_backtest - INFO - [2025-10-20] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,174 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,174 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,174 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,174 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,174 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,174 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 20)}
2025-11-05 16:10:33,175 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,175 - app.services.advanced_backtest - INFO - [2025-10-20] 유니버스 종목 수: 18
2025-11-05 16:10:33,175 - app.services.advanced_backtest - INFO - [2025-10-20] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,183 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/status
2025-11-05 16:10:33,214 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/status - 200 (30.50ms)
2025-11-05 16:10:33,215 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,215 - app.services.advanced_backtest - INFO - [2025-10-20] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,215 - app.services.advanced_backtest - INFO - [2025-10-20] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,225 - app.services.advanced_backtest - INFO - [2025-10-21] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,225 - app.services.advanced_backtest - INFO - [2025-10-21] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,225 - app.services.advanced_backtest - INFO - [2025-10-21] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,225 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,225 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,225 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,225 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,225 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,226 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 21)}
2025-11-05 16:10:33,227 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,227 - app.services.advanced_backtest - INFO - [2025-10-21] 유니버스 종목 수: 18
2025-11-05 16:10:33,227 - app.services.advanced_backtest - INFO - [2025-10-21] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,244 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,245 - app.services.advanced_backtest - INFO - [2025-10-21] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,245 - app.services.advanced_backtest - INFO - [2025-10-21] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,254 - app.services.advanced_backtest - INFO - [2025-10-22] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,254 - app.services.advanced_backtest - INFO - [2025-10-22] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,254 - app.services.advanced_backtest - INFO - [2025-10-22] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,255 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,255 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,255 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,255 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,255 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,255 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 22)}
2025-11-05 16:10:33,256 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,256 - app.services.advanced_backtest - INFO - [2025-10-22] 유니버스 종목 수: 18
2025-11-05 16:10:33,256 - app.services.advanced_backtest - INFO - [2025-10-22] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,272 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,272 - app.services.advanced_backtest - INFO - [2025-10-22] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,272 - app.services.advanced_backtest - INFO - [2025-10-22] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,282 - app.services.advanced_backtest - INFO - [2025-10-23] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,282 - app.services.advanced_backtest - INFO - [2025-10-23] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,282 - app.services.advanced_backtest - INFO - [2025-10-23] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,282 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,283 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,283 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,283 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,283 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,283 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 23)}
2025-11-05 16:10:33,284 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,284 - app.services.advanced_backtest - INFO - [2025-10-23] 유니버스 종목 수: 18
2025-11-05 16:10:33,284 - app.services.advanced_backtest - INFO - [2025-10-23] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,300 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,300 - app.services.advanced_backtest - INFO - [2025-10-23] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,300 - app.services.advanced_backtest - INFO - [2025-10-23] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,310 - app.services.advanced_backtest - INFO - [2025-10-24] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,310 - app.services.advanced_backtest - INFO - [2025-10-24] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,310 - app.services.advanced_backtest - INFO - [2025-10-24] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,311 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,311 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,311 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,311 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,311 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,311 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 24)}
2025-11-05 16:10:33,312 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,312 - app.services.advanced_backtest - INFO - [2025-10-24] 유니버스 종목 수: 18
2025-11-05 16:10:33,312 - app.services.advanced_backtest - INFO - [2025-10-24] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,329 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,329 - app.services.advanced_backtest - INFO - [2025-10-24] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,329 - app.services.advanced_backtest - INFO - [2025-10-24] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,338 - app.services.advanced_backtest - INFO - [2025-10-27] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,338 - app.services.advanced_backtest - INFO - [2025-10-27] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,338 - app.services.advanced_backtest - INFO - [2025-10-27] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,339 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,339 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,339 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,339 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,339 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,339 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 27)}
2025-11-05 16:10:33,340 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,340 - app.services.advanced_backtest - INFO - [2025-10-27] 유니버스 종목 수: 18
2025-11-05 16:10:33,340 - app.services.advanced_backtest - INFO - [2025-10-27] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,372 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,372 - app.services.advanced_backtest - INFO - [2025-10-27] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,372 - app.services.advanced_backtest - INFO - [2025-10-27] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,384 - app.services.advanced_backtest - INFO - [2025-10-28] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,384 - app.services.advanced_backtest - INFO - [2025-10-28] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,384 - app.services.advanced_backtest - INFO - [2025-10-28] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,387 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,387 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,387 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,387 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,387 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,387 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 28)}
2025-11-05 16:10:33,389 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,389 - app.services.advanced_backtest - INFO - [2025-10-28] 유니버스 종목 수: 18
2025-11-05 16:10:33,389 - app.services.advanced_backtest - INFO - [2025-10-28] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,413 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,414 - app.services.advanced_backtest - INFO - [2025-10-28] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,414 - app.services.advanced_backtest - INFO - [2025-10-28] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,427 - app.services.advanced_backtest - INFO - [2025-10-29] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,427 - app.services.advanced_backtest - INFO - [2025-10-29] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,427 - app.services.advanced_backtest - INFO - [2025-10-29] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,427 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,427 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,427 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,427 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,428 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,428 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 29)}
2025-11-05 16:10:33,429 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,429 - app.services.advanced_backtest - INFO - [2025-10-29] 유니버스 종목 수: 18
2025-11-05 16:10:33,429 - app.services.advanced_backtest - INFO - [2025-10-29] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,454 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,455 - app.services.advanced_backtest - INFO - [2025-10-29] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,455 - app.services.advanced_backtest - INFO - [2025-10-29] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,466 - app.services.advanced_backtest - INFO - [2025-10-30] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,467 - app.services.advanced_backtest - INFO - [2025-10-30] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,467 - app.services.advanced_backtest - INFO - [2025-10-30] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,467 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,467 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,467 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,467 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,467 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,468 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 30)}
2025-11-05 16:10:33,469 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,469 - app.services.advanced_backtest - INFO - [2025-10-30] 유니버스 종목 수: 18
2025-11-05 16:10:33,469 - app.services.advanced_backtest - INFO - [2025-10-30] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,488 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,488 - app.services.advanced_backtest - INFO - [2025-10-30] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,488 - app.services.advanced_backtest - INFO - [2025-10-30] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,501 - app.services.advanced_backtest - INFO - [2025-10-31] 리밸런싱 조건 충족: DAILY (매일)
2025-11-05 16:10:33,501 - app.services.advanced_backtest - INFO - [2025-10-31] 리밸런싱 조건 충족 → 포트 재구성 시도
2025-11-05 16:10:33,501 - app.services.advanced_backtest - INFO - [2025-10-31] 포트폴리오 리밸런싱 시작
2025-11-05 16:10:33,501 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Checking self.target_stocks: ['증권'] (type: <class 'list'>)
2025-11-05 16:10:33,501 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] self.target_stocks is truthy!
2025-11-05 16:10:33,501 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Added industry filter to query: AND c.industry IN ('증권')
2025-11-05 16:10:33,501 - app.services.advanced_backtest - INFO - 테마/업종 필터 적용: ['증권']
2025-11-05 16:10:33,501 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Final SQL query: 
            SELECT DISTINCT c.company_id, c.stock_code, c.company_name,
                   c.market_type, c.industry, sp.market_cap
            FROM companies c
            INNER JOIN stock_prices sp ON c.company_id = sp.company_id
            WHERE c.is_active = 1
              AND sp.trade_date = :trade_date
         AND c.industry IN ('증권')
2025-11-05 16:10:33,501 - app.services.advanced_backtest - INFO - [DEBUG _get_universe_stocks] Query params: {'trade_date': datetime.date(2025, 10, 31)}
2025-11-05 16:10:33,502 - app.services.advanced_backtest - INFO - 유니버스 종목 18개 조회 완료 (샘플: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,503 - app.services.advanced_backtest - INFO - [2025-10-31] 유니버스 종목 수: 18
2025-11-05 16:10:33,503 - app.services.advanced_backtest - INFO - [2025-10-31] 팩터 점수 계산 시작 - 종목 수: 18
2025-11-05 16:10:33,524 - app.services.advanced_backtest - INFO - 팩터 기반 종목 선택 완료 - 최종 10개 (최대 10개, 상위 종목: 003540, 001200, 030610, 001270, 006800...)
2025-11-05 16:10:33,524 - app.services.advanced_backtest - INFO - [2025-10-31] 선택된 종목 수: 10, 종목: ['003540', '001200', '030610', '001270', '006800', '001290', '001510', '030210', '003460', '016360']
2025-11-05 16:10:33,524 - app.services.advanced_backtest - INFO - [2025-10-31] [DEBUG] 기존 포지션 정리 시작: 10개
2025-11-05 16:10:33,545 - app.services.advanced_backtest - INFO - 통계 계산 완료 - 수익률 45.58%, 변동성 36.38%, MDD -22.73%, 샤프 1.21
2025-11-05 16:10:33,548 - app.services.advanced_backtest - INFO - 백테스트 완료: 최종 수익률 45.58%
2025-11-05 16:10:33,548 - app.api.routes.backtest - INFO - 백테스트 완료: bb61e15c-97aa-4c4f-adde-d46b607dd219
2025-11-05 16:10:35,225 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/status
2025-11-05 16:10:35,293 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/status - 200 (67.64ms)
2025-11-05 16:10:35,298 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result
2025-11-05 16:10:35,478 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result - 200 (180.50ms)
2025-11-05 16:10:35,491 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades
2025-11-05 16:10:35,532 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades - 200 (41.19ms)
2025-11-05 16:16:06,194 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result
2025-11-05 16:16:06,337 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result - 200 (143.13ms)
2025-11-05 16:16:06,635 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades
2025-11-05 16:16:06,677 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades - 200 (41.99ms)
2025-11-05 16:16:09,386 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result
2025-11-05 16:16:09,589 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result - 200 (202.09ms)
2025-11-05 16:16:09,717 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades
2025-11-05 16:16:09,761 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades - 200 (44.26ms)
2025-11-05 16:18:07,254 - app.main - INFO - → GET /api/v1/backtest/95932289-2ec7-44e7-a83a-d7467ce7f969/trades
2025-11-05 16:18:07,306 - app.main - INFO - ← GET /api/v1/backtest/95932289-2ec7-44e7-a83a-d7467ce7f969/trades - 200 (51.82ms)
2025-11-05 16:18:43,576 - app.main - INFO - → GET /api/v1/backtest/340710a9-66ea-4670-a490-e77be54c5088/trades
2025-11-05 16:18:43,752 - app.main - INFO - ← GET /api/v1/backtest/340710a9-66ea-4670-a490-e77be54c5088/trades - 200 (175.40ms)
2025-11-05 16:18:55,591 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result
2025-11-05 16:18:55,747 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result - 200 (156.01ms)
2025-11-05 16:18:55,910 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades
2025-11-05 16:18:55,959 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades - 200 (48.97ms)
2025-11-05 16:18:58,038 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result
2025-11-05 16:18:58,168 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result - 200 (130.04ms)
2025-11-05 16:18:58,267 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades
2025-11-05 16:18:58,317 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades - 200 (49.69ms)
2025-11-05 16:18:58,328 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result
2025-11-05 16:18:58,479 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result - 200 (151.39ms)
2025-11-05 16:18:58,603 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades
2025-11-05 16:18:58,645 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades - 200 (42.03ms)
2025-11-05 16:20:11,065 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result
2025-11-05 16:20:11,377 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result - 200 (312.28ms)
2025-11-05 16:20:11,491 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades
2025-11-05 16:20:11,535 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades - 200 (43.41ms)
2025-11-05 17:05:19,347 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result
2025-11-05 17:05:19,544 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/result - 200 (197.14ms)
2025-11-05 17:05:19,852 - app.main - INFO - → GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades
2025-11-05 17:05:19,892 - app.main - INFO - ← GET /api/v1/backtest/bb61e15c-97aa-4c4f-adde-d46b607dd219/trades - 200 (39.70ms)
